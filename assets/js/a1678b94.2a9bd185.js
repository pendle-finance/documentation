"use strict";(self.webpackChunkpendle_documentation=self.webpackChunkpendle_documentation||[]).push([[1516],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var i=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=i.createContext({}),d=function(e){var t=i.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=d(e.components);return i.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=d(r),m=n,h=u["".concat(s,".").concat(m)]||u[m]||p[m]||o;return r?i.createElement(h,a(a({ref:t},c),{},{components:r})):i.createElement(h,a({ref:t},c))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,a=new Array(o);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:n,a[1]=l;for(var d=2;d<o;d++)a[d]=r[d];return i.createElement.apply(null,a)}return i.createElement.apply(null,r)}m.displayName="MDXCreateElement"},4016:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var i=r(7462),n=(r(7294),r(3905));const o={hide_table_of_contents:!0},a="Order Book",l={unversionedId:"ProtocolMechanics/LiquidityEngines/OrderBook",id:"ProtocolMechanics/LiquidityEngines/OrderBook",title:"Order Book",description:"Pendle features an Order Book system alongside its AMM to enable peer-to-peer trading of PT and YT. Users can place limit orders to buy or sell at a specified implied APY.",source:"@site/docs/ProtocolMechanics/LiquidityEngines/OrderBook.md",sourceDirName:"ProtocolMechanics/LiquidityEngines",slug:"/ProtocolMechanics/LiquidityEngines/OrderBook",permalink:"/ProtocolMechanics/LiquidityEngines/OrderBook",draft:!1,tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"myAutogeneratedSidebar",previous:{title:"AMM",permalink:"/ProtocolMechanics/LiquidityEngines/AMM"},next:{title:"Tokenomics",permalink:"/ProtocolMechanics/Mechanisms/Tokenomics"}},s={},d=[{value:"What is Limit Order",id:"what-is-limit-order",level:2},{value:"Order Execution",id:"order-execution",level:2},{value:"Order Validity",id:"order-validity",level:2},{value:"Fees",id:"fees",level:2},{value:"Arbitrage",id:"arbitrage",level:2}],c={toc:d},u="wrapper";function p(e){let{components:t,...o}=e;return(0,n.kt)(u,(0,i.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"order-book"},"Order Book"),(0,n.kt)("p",null,"Pendle features an Order Book system alongside its AMM to enable peer-to-peer trading of PT and YT. Users can place limit orders to buy or sell at a specified implied APY. "),(0,n.kt)("p",null,"Together, the Order Book and AMM enhance market liquidity, facilitating smoother trading on Pendle."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Order Book",src:r(3985).Z,title:"Order Book",width:"1263",height:"743"})),(0,n.kt)("h2",{id:"what-is-limit-order"},"What is Limit Order"),(0,n.kt)("p",null,"Limit order on Pendle is a purchase / sell order at a specified implied APY. You can set limit orders on PT and YT of supported assets on any chain. "),(0,n.kt)("p",null,"Most popular market on Pendle has limit order support. "),(0,n.kt)("h2",{id:"order-execution"},"Order Execution"),(0,n.kt)("p",null,"A limit order will be executed if the implied APY of the AMM moves towards the order APY. At that moment, any further swaps (taker order) in said implied APY direction will fill the order book first, before proceeding to the AMM. In other words, a limit order deepens liquidity of the AMM at that specific implied APY as swaps will fill the order first before pushing the AMM\u2019s implied APY again. "),(0,n.kt)("p",null,"Swaps can be partially allocated to the AMM and limit orders (if any) to optimize for price-impact. That amount is determined at the most optimal amount, taking the AMM price impact and gas fees into account. Consequently, smaller orders face a lower likelihood of being filled due to the increased number of transactions required, leading to higher gas fees, particularly on chains with costly gas fees."),(0,n.kt)("p",null,"Orders can be:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Active (Partially or fully fillable)"),(0,n.kt)("li",{parentName:"ul"},"Executed (Order is fully filled)"),(0,n.kt)("li",{parentName:"ul"},"Expired (Order is not fully filled by its expiry date)"),(0,n.kt)("li",{parentName:"ul"},"Cancelled "),(0,n.kt)("li",{parentName:"ul"},"Invalid")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.pendle.finance/ProtocolMechanics/AMM#flash-swaps"},"Flash swap")," capability between PT and YT enhances the Order Book's flexibility by allowing a buy YT taker order to be matched with a buy PT limit order, and vice versa\u2014a sell YT taker order can be matched with a sell PT limit order. This capability significantly broadens potential trading matches, streamlining transactions between PT and YT."),(0,n.kt)("h2",{id:"order-validity"},"Order Validity"),(0,n.kt)("p",null,"Only the underlying yield-bearing asset can be used to place a limit order."),(0,n.kt)("p",null,"Partially Fillable order will be highlighted in a yellow warning. Orders will only be partially fillable when: "),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"The balance of asset in your wallet falls below the order amount but not 0"),(0,n.kt)("li",{parentName:"ol"},"The allowance set from your address is less than the order amount but not 0")),(0,n.kt)("p",null,"Invalid orders will be highlighted in a red warning. Limit orders will be invalid when:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"The balance of asset in your wallet falls to 0"),(0,n.kt)("li",{parentName:"ol"},"The allowance set from your address is 0")),(0,n.kt)("p",null,"Setting a limit order requires signature from your address while revoking the order involves a transaction to revoke the signature."),(0,n.kt)("h2",{id:"fees"},"Fees"),(0,n.kt)("p",null,"Fees for swaps on limit order will be the same as if they were done on the AMM. Currently, maker order fee is set to be 0 (taker order fees remain the same). The team has full discretion on when to scale-up fees for maker order."),(0,n.kt)("p",null,"Fees collected will be distributed in $ETH to vePENDLE voters of its respective pools."),(0,n.kt)("h2",{id:"arbitrage"},"Arbitrage"),(0,n.kt)("p",null,"Pendle operates an arbitrage bot that continuously aligns prices between the AMM and the Order Book. This ensures any price discrepancies due to liquidity differences are quickly corrected, maintaining consistent pricing across the two system."))}p.isMDXComponent=!0},3985:(e,t,r)=>{r.d(t,{Z:()=>i});const i=r.p+"assets/images/order_book-abec17db6b23dd6552d333c1e00a5fe3.png"}}]);