<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Developers/Oracles/PTAsCollateral" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">PT as Collateral in a Money Market | Pendle Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pendle.finance/pendle-v2/Developers/Oracles/PTAsCollateral"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="PT as Collateral in a Money Market | Pendle Documentation"><meta data-rh="true" name="description" content="PTs are good collaterals in a money market since it is a fixed rate position (or a zero coupon bond) on an asset. This document discusses the use cases for PT as a collateral, as well as considerations for a money market when integrating PT as a collateral."><meta data-rh="true" property="og:description" content="PTs are good collaterals in a money market since it is a fixed rate position (or a zero coupon bond) on an asset. This document discusses the use cases for PT as a collateral, as well as considerations for a money market when integrating PT as a collateral."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pendle.finance/pendle-v2/Developers/Oracles/PTAsCollateral"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/Oracles/PTAsCollateral" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://pendle.finance/cn/pendle-v2/Developers/Oracles/PTAsCollateral" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/Oracles/PTAsCollateral" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GFVY0GOMCR-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"PT as Collateral in a Money Market","item":"https://pendle.finance/pendle-v2/Developers/Oracles/PTAsCollateral"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZBS49V0YS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6ZBS49V0YS",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Pendle Documentation" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a54b6571.css">
<script src="/assets/js/runtime~main.31bb9188.js" defer="defer"></script>
<script src="/assets/js/main.b163ecec.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18m-9-9h9m-9 18h9"></path></svg></button><a href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pendle"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Pendle V2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pendle-v2/Introduction">Pendle V2 Docs</a></li><li><a href="https://pendle.gitbook.io/pendle-academy/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Pendle Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Boros</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/boros-dev">Boros Dev Docs</a></li><li><a href="https://pendle.gitbook.io/boros/boros-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Docs<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://pendle.gitbook.io/boros" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="searchContainer_eKWQ"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><div class="language-switcher" style="display:flex;align-items:center;margin-left:12px"><select style="background:rgba(248, 250, 252, 0.8);border:1px solid rgba(15, 23, 42, 0.1);border-radius:8px;padding:6px 12px;font-size:14px;color:#475569;cursor:pointer;min-width:80px"><option value="en" selected="">English</option><option value="cn">‰∏≠ÊñáÔºà‰∏≠ÂõΩ)</option></select></div></div></div></div><div class="scrollProgressLine_ACL0"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebar_mhZE"><nav class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pendle-v2/Introduction">üìñ Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pendle-v2/FAQ">‚ùì FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pendle-v2/ProtocolMechanics/Glossary">‚öôÔ∏è Protocol Mechanics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pendle-v2/AppGuide/UsingPendle">üì± App Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/pendle-v2/Developers/Overview">üë®‚Äçüíª Developers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/HighLevelArchitecture">High Level Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/FAQ">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/Contracts/StandardizedYield">üìú Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/LimitOrder/LimitOrderContract">üìã Limit Orders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/pendle-v2/Developers/Oracles/HowToIntegratePtAndLpOracle">üîÆ Oracles</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Oracles/HowToIntegratePtAndLpOracle">How to Integrate PT and LP Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Oracles/IntroductionOfLpOracle">Introduction of LP Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Oracles/IntroductionOfPtOracle">Introduction of PT Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Oracles/LPAsCollateral">LP as Collateral in a Money Market</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pendle-v2/Developers/Oracles/PTAsCollateral">PT as Collateral in a Money Market</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Oracles/PTSanityChecks">Sanity checks for PT Integrations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/Oracles/DeterministicOracles/LinearDiscountOracle">Deterministic Oracles</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/Backend/BackendAndHostedSDK">üõ†Ô∏è Off-chain helpers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Deployments">üöÄ Deployments</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pendle-v2/Security">üîí Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/pendle-finance/pendle-v2-resources/tree/main/whitepapers" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">üìÑ Whitepapers<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://app.pendle.finance/pro/education/learn" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">üìö Learn In-App<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://pendle.gitbook.io/pendle-academy" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">üéì Pendle Academy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div><div class="row"><div class="col"><div><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üë®‚Äçüíª Developers</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üîÆ Oracles</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">PT as Collateral in a Money Market</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>PT as Collateral in a Money Market</h1></header>
<p>PTs are good collaterals in a money market since it is a fixed rate position (or a zero coupon bond) on an asset. This document discusses the use cases for PT as a collateral, as well as considerations for a money market when integrating PT as a collateral.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="main-use-cases">Main Use Cases<a href="#main-use-cases" class="hash-link" aria-label="Direct link to Main Use Cases" title="Direct link to Main Use Cases">‚Äã</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-get-leveraged-apy-doing-yield-arbitrage">1. Get leveraged APY doing yield arbitrage<a href="#1-get-leveraged-apy-doing-yield-arbitrage" class="hash-link" aria-label="Direct link to 1. Get leveraged APY doing yield arbitrage" title="Direct link to 1. Get leveraged APY doing yield arbitrage">‚Äã</a></h4>
<p>Example: PT-stETH gives a fixed 5% APY, but the ETH borrow rate is only 3% in the money market.</p>
<ul>
<li>In this case, a user can deposit PT-stETH as collateral, borrow ETH, swap borrowed ETH to more PT-stETH to use as more collateral, and so on.</li>
<li>As a result, the user will get a leveraged APY in ETH terms, benefiting from the difference between the PT fixed rate and ETH borrow rate</li>
<li>If the collateral factor is 0.80, the user can leverage 5x their capital to get a maximum APY of 5 * (5-3) = 10%</li>
</ul>
<p>This use case is similar to depositing a yield bearing asset (like wstETH) and borrowing (ETH) in a money market, but is better due to the certainty from the fixed rate in PT.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-leverage-short-yield">2. Leverage short yield<a href="#2-leverage-short-yield" class="hash-link" aria-label="Direct link to 2. Leverage short yield" title="Direct link to 2. Leverage short yield">‚Äã</a></h4>
<ul>
<li>If a user thinks the current fixed yield in Pendle is overvalued (PT is undervalued), they can do the exact step as the previous section (for example, use PT-stETH as collateral to borrow ETH to buy more PT-stETH) to short yield.</li>
<li>If the fixed yield indeed goes down, the user can unwind their position (sell PT to repay the borrowed ETH) for a profit.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-leverage-long-assets-while-earning-fixed-yield">3. Leverage long assets while earning fixed yield<a href="#3-leverage-long-assets-while-earning-fixed-yield" class="hash-link" aria-label="Direct link to 3. Leverage long assets while earning fixed yield" title="Direct link to 3. Leverage long assets while earning fixed yield">‚Äã</a></h4>
<ul>
<li>If a user is bullish on an asset in the long term, they can use its PT as a collateral to borrow stables to buy more PT</li>
<li>For example, a long term ETH holder can use PT-stETH as collateral to borrow USDC to buy more PT-stETH</li>
<li>Essentially, the user will be getting a fixed APY (from PT) on top of their leveraged long position on ETH.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="risk-analysis-for-pt-as-a-collateral">Risk analysis for PT as a collateral<a href="#risk-analysis-for-pt-as-a-collateral" class="hash-link" aria-label="Direct link to Risk analysis for PT as a collateral" title="Direct link to Risk analysis for PT as a collateral">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-smart-contract-vulnerability-in-pendle-contracts">1. Smart contract vulnerability in Pendle contracts:<a href="#1-smart-contract-vulnerability-in-pendle-contracts" class="hash-link" aria-label="Direct link to 1. Smart contract vulnerability in Pendle contracts:" title="Direct link to 1. Smart contract vulnerability in Pendle contracts:">‚Äã</a></h3>
<ul>
<li>If Pendle contracts malfunctions or gets exploited, PT could lose value significantly in a short duration, leading to bad debt for the money market protocol.</li>
<li>Assessment:<!-- -->
<ul>
<li>Pendle V2 contracts have been audited by 6 auditors, with 3 of the top 4 C4 auditors. Find the audit reports <a href="https://github.com/pendle-finance/pendle-core-v2-public/tree/main/audits" target="_blank" rel="noopener noreferrer">here</a>.</li>
<li>Pendle V2 contract system&#x27;s components (SY, YT-PT, Market, vePENDLE) are decoupled from each other, only interacting with the other components via interfaces, decreasing the chance for bugs due to complexity and interwoven logic.</li>
<li>Lindy-ness: There have been no incidents so far in Pendle contracts since June 2021<!-- -->
<ul>
<li>Pendle V2 contracts have been live since November 2022 (peak TVL of $93M)</li>
<li>Pendle V1 contracts (with many similar mechanisms to V2) have been live since June 2021, with a peak TVL of $37M</li>
</ul>
</li>
<li>Apart from the core Pendle contracts (for YT-PT and Pendle Market) which remain the same throughout, risk assessment needs to be done on the SY implementation for the particular PT pool.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-smart-contract-vulnerability-in-underlying-protocols">2. Smart contract vulnerability in underlying protocols:<a href="#2-smart-contract-vulnerability-in-underlying-protocols" class="hash-link" aria-label="Direct link to 2. Smart contract vulnerability in underlying protocols:" title="Direct link to 2. Smart contract vulnerability in underlying protocols:">‚Äã</a></h3>
<ul>
<li>Each PT is built on top of an underlying yield bearing token (like stETH, USDT staked in Stargate). If the underlying protocol malfunctions or gets exploited, PT could lose value significantly in a short duration, leading to bad debt for the money market</li>
<li>As such, risk assessment should be made for each underlying protocol for each PT.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-oracle-exploit">3. Oracle exploit:<a href="#3-oracle-exploit" class="hash-link" aria-label="Direct link to 3. Oracle exploit:" title="Direct link to 3. Oracle exploit:">‚Äã</a></h3>
<ul>
<li>If the oracle for PT price is easily manipulated or exploited, PT price could inflate unnaturally (leading to an attack of using over-priced PT to borrow, and get away with free money leading to bad protocol debt after PT price drops sharply after), or drops sharply (leading to bad debt for the protocol)</li>
<li>Assessment:<!-- -->
<ul>
<li>Pendle&#x27;s oracle for PT/asset is permissionless and built into the contract (no maintenance needed), hence liveness and correctness is not a concern.</li>
<li>The PT/asset oracle can return TWAP prices for customisable durations (within 65536 blocks, which is ~9 days for Ethereum), hence is not susceptible to short term or within-a-block manipulation of prices if the TWAP duration used is sufficient.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-insufficient-pt-liquidity-for-liquidation-in-a-short-duration">4. Insufficient PT liquidity for liquidation in a short duration<a href="#4-insufficient-pt-liquidity-for-liquidation-in-a-short-duration" class="hash-link" aria-label="Direct link to 4. Insufficient PT liquidity for liquidation in a short duration" title="Direct link to 4. Insufficient PT liquidity for liquidation in a short duration">‚Äã</a></h3>
<p>When PT price drops significantly vs the borrowAsset (say for 20%) and doesn&#x27;t bounce back, there might not be enough liquidity to liquidate PT collaterals for liquidatable loans, which might lead to bad debt.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="assessment---study-1-we-want-to-make-sure-if-ptborrowasset-price-drops-significantly-in-one-go-liquidators-can-liquidate-the-maximum-possible-liquidatable-pt-collaterals-in-profit">Assessment - Study 1: we want to make sure if PT/borrowAsset price drops significantly in one go, liquidators can liquidate the maximum possible liquidatable PT collaterals in profit<a href="#assessment---study-1-we-want-to-make-sure-if-ptborrowasset-price-drops-significantly-in-one-go-liquidators-can-liquidate-the-maximum-possible-liquidatable-pt-collaterals-in-profit" class="hash-link" aria-label="Direct link to Assessment - Study 1: we want to make sure if PT/borrowAsset price drops significantly in one go, liquidators can liquidate the maximum possible liquidatable PT collaterals in profit" title="Direct link to Assessment - Study 1: we want to make sure if PT/borrowAsset price drops significantly in one go, liquidators can liquidate the maximum possible liquidatable PT collaterals in profit">‚Äã</a></h4>
<ul>
<li>Assume the following parameters in the money market:<!-- -->
<ul>
<li>Collateral factor for PT: <code>cRatio</code></li>
<li>Deposit limit for PT collateral: <code>dCap</code> (in dollars)</li>
<li>Let&#x27;s say after a significant price drop, the maximum portion of loans (using PT collaterals) that will become liquidatable will be <code>k</code> (<code>k</code> = 0.3 might be a reasonable number. 30% of the borrow becomes liquidate-able in one single moment)</li>
<li>When a position becomes liquidatable, liquidators can liquidate a portion <code>f</code> of the liquidatable position (usually 50% in most money markets)</li>
<li>The profit for liquidators is <code>p</code> (usually ~5-10% in money markets)</li>
</ul>
</li>
<li>When PT/borrowAsset price drops significantly, we will need to liquidate a maximum of <code>dCap * cRatio * k</code> worth of borrow. The maximum amount liquidators can repay and liquidate is <code>dCap * cRatio * k * f</code>. The collateral dollar value that liquidators will get (and need to sell) is <code>dCap * cRatio * k * f * (1+p)</code></li>
<li>To make a profitable liquidation, we need to be able to sell these PT collaterals for &lt; <code>p</code> price impact (since the profit is <code>p</code>)</li>
<li>To sell PT collaterals to borrowAsset, we need to sell PT to SY (a yield bearing position of PT&#x27;s asset) via Pendle&#x27;s market, convert SY to asset and sell asset for borrowAsset</li>
<li>Assuming minimal price impact for selling asset to borrowAsset (might not hold for non-bluechip borrow asset), <strong>we just need to make sure that we could sell <code>dCap * cRatio * k * f * (1+p)</code> worth of PT with less than <code>p</code> price impact.</strong></li>
<li>Example for listing PT-stETH-Dec2025 in CompoundV2 with a collateral factor <code>cRatio</code> of 0.70<!-- -->
<ul>
<li><code>cRatio = 0.70</code></li>
<li>Assume <code>k = 0.30</code></li>
<li><code>f = 0.5</code> in Compound</li>
<li><code>p = 0.08</code> in Compound</li>
<li>Hence, selling <code>dCap * 0.70 * 0.30 * 0.5 * (1+0.08) = 0.1134 dCap</code> worth of PT should have a price impact of lower than 8%</li>
<li>As of writing (2 Jun 2023), selling $1M of PT-stETH-Dec2025 has a price impact of 2.5%</li>
<li>Therefore, a <code>dCap</code> of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi>M</mi><mi mathvariant="normal">/</mi><mn>0.1134</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">1M / 0.1134 = </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord">/0.1134</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span></span></span></span>8.8M is already pretty safe (since it will be corresponding to a sell of $1M of PT, which only has a 2.5% price impact, well less than 8%)</li>
</ul>
</li>
<li>This could be used as a framework to gauge how reasonable certain numbers for <code>dCap</code>, <code>cRatio</code> could be for certain PT collateral.</li>
<li><strong>Important note</strong>: There is a cascading effect, where PT price dropping due to the collateral sell could lead to more liquidation. Ideally, the factor <code>k</code> should already take this into account (basically, after all the cascading effect from PT price dropping due to liquidations, what&#x27;s the proportion of PT-collateralised loans that will become liquidatable). In the most extreme assumption, we could assume <code>k=1</code> for the strictest analysis.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="assessment---on-collateral-factor-for-pt">Assessment - On collateral factor for PT<a href="#assessment---on-collateral-factor-for-pt" class="hash-link" aria-label="Direct link to Assessment - On collateral factor for PT" title="Direct link to Assessment - On collateral factor for PT">‚Äã</a></h4>
<ul>
<li>Study 1 is already the strictest analysis, where all the liquidatble PT collaterals can be liquidated in one go.</li>
<li>Due to the nature of Pendle AMM which is specialised for trading PTs (it concentrates liquidity, taking into account how PT will converge to the underlying asset), price impact for selling an amount of PT is much smaller than a normal pool of the same liquidity can provide.</li>
<li>When setting collateral factor for PT, the bottom line is to protect the money market from bad debt, in case PT/borrowAsset price drops so fast that liquidations can&#x27;t happen fast enough to liquidate the liquidatable accounts.</li>
<li>In terms of &quot;being able to liquidate PTs fast enough&quot;, there are two factors:<!-- -->
<ol>
<li>Liquidity for liquidating PTs, to support liquidating PTs in a short duration.</li>
<li>The liquidation system which needs to be functional and reacts fast enough to liquidate in time</li>
</ol>
</li>
<li>For i: it&#x27;s already covered in Study 1, so theoretically if the equation (taking into account the important note) in Study 1 holds, it&#x27;s good (even if cRatio is 0.90). This is assuming a highly efficient liquidation system that could liquidate immediately.</li>
<li>For ii: it depends on how mature and decentralised the liquidation ecosystem for the money market is. If the liquidators are highly active/efficient, collateral factors could be set higher</li>
<li>In another approach for thinking about setting collateral factor for PT: it could be similar to the collateral factor for PT&#x27;s asset in the money market, since PT price will fluctuate along the asset&#x27;s price.</li>
<li>Since it&#x27;s generally troublesome to decrease collateral factor and much easier to increase it, it&#x27;s generally a good approach to start with more conservative collateral factors</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-highly-volatile-pt-price-could-liquidate-users-unnecessarily">5. Highly volatile PT price could liquidate users unnecessarily<a href="#5-highly-volatile-pt-price-could-liquidate-users-unnecessarily" class="hash-link" aria-label="Direct link to 5. Highly volatile PT price could liquidate users unnecessarily" title="Direct link to 5. Highly volatile PT price could liquidate users unnecessarily">‚Äã</a></h3>
<ul>
<li>If PT prices are too volatile, a temporary dip in PT price could liquidate certain users unnecessarily</li>
<li>Assessment:<!-- -->
<ul>
<li>In normal circumstances, PT price in terms of asset should not fluctuate as wildly as normal asset prices since it&#x27;s based on people trading interest rates (which don&#x27;t change too often).</li>
<li>Depending on the nature of the PT collateral (nature of the interest rate, and liquidity of the pool), an appropriate TWAP duration could be used in the oracle, to minimise liquidations due to temporary dips in PT prices.</li>
</ul>
</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pendle-v2/Developers/Oracles/LPAsCollateral"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">LP as Collateral in a Money Market</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pendle-v2/Developers/Oracles/PTSanityChecks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sanity checks for PT Integrations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#main-use-cases" class="table-of-contents__link toc-highlight">Main Use Cases</a></li><li><a href="#risk-analysis-for-pt-as-a-collateral" class="table-of-contents__link toc-highlight">Risk analysis for PT as a collateral</a><ul><li><a href="#1-smart-contract-vulnerability-in-pendle-contracts" class="table-of-contents__link toc-highlight">1. Smart contract vulnerability in Pendle contracts:</a></li><li><a href="#2-smart-contract-vulnerability-in-underlying-protocols" class="table-of-contents__link toc-highlight">2. Smart contract vulnerability in underlying protocols:</a></li><li><a href="#3-oracle-exploit" class="table-of-contents__link toc-highlight">3. Oracle exploit:</a></li><li><a href="#4-insufficient-pt-liquidity-for-liquidation-in-a-short-duration" class="table-of-contents__link toc-highlight">4. Insufficient PT liquidity for liquidation in a short duration</a></li><li><a href="#5-highly-volatile-pt-price-could-liquidate-users-unnecessarily" class="table-of-contents__link toc-highlight">5. Highly volatile PT price could liquidate users unnecessarily</a></li></ul></li></ul></div></div></div></div></div></main></div></div></div><div class="background_hm_f"><div class="root_DvgA"><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Pages</div><a href="https://www.pendle.finance/" target="_blank">Website</a><a href="https://app.pendle.finance/market" target="_blank">App</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Socials</div><a href="https://discord.com/invite/EAujvncY2R" target="_blank">Discord</a><a href="https://twitter.com/pendle_fi/" target="_blank">Twitter</a><a href="https://t.me/pendlefinance/" target="_blank">Telegram</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">About Us</div><a href="https://medium.com/pendle/" target="_blank">Medium</a><a href="https://angel.co/company/pendle_finance/" target="_blank">Careers</a><a href="https://pendle.finance/brandguide" target="_blank">Media Kit</a><a href="https://github.com/pendle-finance/pendle-core-v2-public/tree/master/audits" target="_blank">Audits</a></div></div></div></div>
</body>
</html>