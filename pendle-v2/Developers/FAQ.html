<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Developers/FAQ" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Frequently Asked Questions | Pendle Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pendle.finance/pendle-v2/Developers/FAQ"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Frequently Asked Questions | Pendle Documentation"><meta data-rh="true" name="description" content="This document is being iterated on rapidly due to incoming questions from partner protocols."><meta data-rh="true" property="og:description" content="This document is being iterated on rapidly due to incoming questions from partner protocols."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pendle.finance/pendle-v2/Developers/FAQ"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/FAQ" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://pendle.finance/cn/pendle-v2/Developers/FAQ" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/FAQ" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GFVY0GOMCR-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Frequently Asked Questions","item":"https://pendle.finance/pendle-v2/Developers/FAQ"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZBS49V0YS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6ZBS49V0YS",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Pendle Documentation" href="/opensearch.xml">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a54b6571.css">
<script src="/assets/js/runtime~main.02e36237.js" defer="defer"></script>
<script src="/assets/js/main.223c4566.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18m-9-9h9m-9 18h9"></path></svg></button><a href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pendle"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Pendle V2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pendle-v2/Introduction">Pendle V2 Docs</a></li><li><a href="https://pendle.gitbook.io/pendle-academy/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Pendle Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Boros</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/boros-dev">Boros Dev Docs</a></li><li><a href="https://pendle.gitbook.io/boros/boros-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Docs<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://pendle.gitbook.io/boros" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="searchContainer_eKWQ"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><div class="language-switcher" style="display:flex;align-items:center;margin-left:12px"><select style="background:rgba(248, 250, 252, 0.8);border:1px solid rgba(15, 23, 42, 0.1);border-radius:8px;padding:6px 12px;font-size:14px;color:#475569;cursor:pointer;min-width:80px"><option value="en" selected="">English</option><option value="cn">中文（中国)</option></select></div></div></div></div><div class="scrollProgressLine_ACL0"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebar_mhZE"><nav class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pendle-v2/Introduction">📖 Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pendle-v2/FAQ">❓ FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pendle-v2/ProtocolMechanics/Glossary">⚙️ Protocol Mechanics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pendle-v2/AppGuide/UsingPendle">📱 App Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/pendle-v2/Developers/Overview">👨‍💻 Developers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/HighLevelArchitecture">High Level Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pendle-v2/Developers/FAQ">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/Contracts/StandardizedYield">📜 Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/LimitOrder/LimitOrderContract">📋 Limit Orders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/Oracles/HowToIntegratePtAndLpOracle">🔮 Oracles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/pendle-v2/Developers/Backend/BackendAndHostedSDK">🛠️ Off-chain helpers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pendle-v2/Developers/Deployments">🚀 Deployments</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pendle-v2/Security">🔒 Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/pendle-finance/pendle-v2-resources/tree/main/whitepapers" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">📄 Whitepapers<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://app.pendle.finance/pro/education/learn" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">📚 Learn In-App<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://pendle.gitbook.io/pendle-academy" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">🎓 Pendle Academy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div><div class="row"><div class="col"><div><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">👨‍💻 Developers</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Frequently Asked Questions</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Frequently Asked Questions</h1></header>
<p><strong>This document is being iterated on rapidly due to incoming questions from partner protocols.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contract">Contract<a href="#contract" class="hash-link" aria-label="Direct link to Contract" title="Direct link to Contract">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-no-swapexactsyforpt">Why No <code>swapExactSyForPt</code>?<a href="#why-no-swapexactsyforpt" class="hash-link" aria-label="Direct link to why-no-swapexactsyforpt" title="Direct link to why-no-swapexactsyforpt">​</a></h3>
<p>Unlike standard AMMs, Pendle&#x27;s AMM only allows swapping exact PT in/out. Therefore, functions like <code>swapExactSyForPt</code> and <code>swapPtForExactSy</code> should generally be avoided. If necessary, use PendleRouter&#x27;s <code>swapExactSyForPt</code> with <code>approx</code> parameters. Refer to the PendleRouter documentation for details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-deploy-a-new-sy-token-on-pendle">How can I deploy a new SY Token on Pendle?<a href="#how-can-i-deploy-a-new-sy-token-on-pendle" class="hash-link" aria-label="Direct link to How can I deploy a new SY Token on Pendle?" title="Direct link to How can I deploy a new SY Token on Pendle?">​</a></h3>
<p>Pendle&#x27;s smart contracts are permissionless, meaning anyone can deploy a new Standardized Yield (SY) Token without requiring approval from the Pendle team. To implement an SY Token, you must follow the Pendle SY Token standard, ensuring compatibility with the ecosystem. Detailed guidance, including contract structure and best practices, can be found in the <a href="https://docs.pendle.finance/Developers/Contracts/StandardizedYield" target="_blank" rel="noopener noreferrer">Pendle Developer Documentation</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="backend">Backend<a href="#backend" class="hash-link" aria-label="Direct link to Backend" title="Direct link to Backend">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-preview-the-received-amount-of-addremove-liquidity">How can I preview the received amount of add/remove liquidity?<a href="#how-can-i-preview-the-received-amount-of-addremove-liquidity" class="hash-link" aria-label="Direct link to How can I preview the received amount of add/remove liquidity?" title="Direct link to How can I preview the received amount of add/remove liquidity?">​</a></h3>
<p>To preview the amount you&#x27;ll receive before submitting transactions, you can use:</p>
<ul>
<li>Pendle API method (recommended): <a href="https://api-v2.pendle.finance/core/docs#/SDK/SdkController_addLiquidity" target="_blank" rel="noopener noreferrer">Pendle Hosted SDK API</a></li>
<li>On-chain method: <a href="https://github.com/pendle-finance/pendle-core-v2-public/blob/main/contracts/interfaces/IPActionAddRemoveLiqV3.sol" target="_blank" rel="noopener noreferrer">PendleRouter Contract</a>. The detailed guide can be found here <a href="https://docs.pendle.finance/Developers/Contracts/PendleRouter" target="_blank" rel="noopener noreferrer">https://docs.pendle.finance/Developers/Contracts/PendleRouter</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-fetch-the-pt-price">How do I fetch the PT price?<a href="#how-do-i-fetch-the-pt-price" class="hash-link" aria-label="Direct link to How do I fetch the PT price?" title="Direct link to How do I fetch the PT price?">​</a></h3>
<p>You can get the PT (Principal Token) price via:</p>
<ul>
<li>Pendle API method (recommended): <a href="https://api-v2.pendle.finance/core/docs#/Assets/AssetsSimplifiedController_getAllAssetPricesByAddresses" target="_blank" rel="noopener noreferrer">Pendle price API</a></li>
<li>On-chain method: <code>getPtToAssetRate</code> of RouterStatic <a href="https://docs.pendle.finance/Developers/Backend/RouterStatic" target="_blank" rel="noopener noreferrer">https://docs.pendle.finance/Developers/Backend/RouterStatic</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-retrieve-historical-pt-and-yt-prices">How can I retrieve historical PT and YT prices?<a href="#how-can-i-retrieve-historical-pt-and-yt-prices" class="hash-link" aria-label="Direct link to How can I retrieve historical PT and YT prices?" title="Direct link to How can I retrieve historical PT and YT prices?">​</a></h3>
<p>You can track historical PT/YT prices using:</p>
<ul>
<li>Pendle API method: <a href="https://api-v2.pendle.finance/core/docs#/Prices/PricesController_ohlcv_v4" target="_blank" rel="noopener noreferrer">Pendle ohlcv API</a>. Note that shorter timeframes (e.g., minute-by-minute updates) are not yet available.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="others">Others<a href="#others" class="hash-link" aria-label="Direct link to Others" title="Direct link to Others">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-up-to-date-accruedrewards-on-chain-applicable-to-sy-yt--lp">Getting Up-to-Date <code>accruedRewards</code> On-Chain (Applicable to SY, YT, &amp; LP)<a href="#getting-up-to-date-accruedrewards-on-chain-applicable-to-sy-yt--lp" class="hash-link" aria-label="Direct link to getting-up-to-date-accruedrewards-on-chain-applicable-to-sy-yt--lp" title="Direct link to getting-up-to-date-accruedrewards-on-chain-applicable-to-sy-yt--lp">​</a></h3>
<p>There are two methods:</p>
<ol>
<li><strong>Call <code>redeemRewards(user)</code> and retrieve the output.</strong> This method has the side effect of redeeming the user&#x27;s rewards, so it might not be ideal.</li>
<li><strong>Call <code>IERC20(market).transfer(user,0)</code> followed by <code>accruedRewards</code>.</strong> The transfer triggers an update of the user&#x27;s rewards.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-the-output-of-getrewardtokens-change">Can the output of <code>getRewardTokens</code> change?<a href="#can-the-output-of-getrewardtokens-change" class="hash-link" aria-label="Direct link to can-the-output-of-getrewardtokens-change" title="Direct link to can-the-output-of-getrewardtokens-change">​</a></h3>
<p>Yes, the output can change if the underlying protocol adds new reward tokens. However, no reward tokens will ever be removed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-read-unclaimed-rewards-and-interest-for-syytmarket">How to read unclaimed Rewards and Interest for SY/YT/Market<a href="#how-to-read-unclaimed-rewards-and-interest-for-syytmarket" class="hash-link" aria-label="Direct link to How to read unclaimed Rewards and Interest for SY/YT/Market" title="Direct link to How to read unclaimed Rewards and Interest for SY/YT/Market">​</a></h3>
<p><strong>On-Chain Method:</strong></p>
<p>To read for SY, please execute an <code>eth_call</code> (<code>callStatic</code> in ethersjs) to the following function of SY:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">claimRewards</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> rewardAmounts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>For YT, execute the following function:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">redeemDueInterestAndRewards</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> redeemInterest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> redeemRewards</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> interestOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> rewardsOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>For Market, execute the following function:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">redeemRewards</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">external</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>These calls can be batched through Multicall if necessary.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-generate-all-the-params-for-the-router-on-chain">How can I generate all the params for the Router on-chain<a href="#how-can-i-generate-all-the-params-for-the-router-on-chain" class="hash-link" aria-label="Direct link to How can I generate all the params for the Router on-chain" title="Direct link to How can I generate all the params for the Router on-chain">​</a></h3>
<p>Please refer to the following 3 links:</p>
<ul>
<li><a href="https://docs.pendle.finance/Developers/Contracts/PendleRouter#generating-required-parameters-on-chain" target="_blank" rel="noopener noreferrer">PendleRouter</a></li>
<li><a href="https://github.com/pendle-finance/pendle-core-v2-public/blob/main/contracts/interfaces/IPAllActionTypeV3.sol" target="_blank" rel="noopener noreferrer">IPAllActionTypeV3.sol</a></li>
<li><a href="https://github.com/pendle-finance/pendle-examples-public" target="_blank" rel="noopener noreferrer">Pendle Examples</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-shouldnt-i-use-getpttoassetrate">Why shouldn&#x27;t I use getPtToAssetRate<a href="#why-shouldnt-i-use-getpttoassetrate" class="hash-link" aria-label="Direct link to Why shouldn&#x27;t I use getPtToAssetRate" title="Direct link to Why shouldn&#x27;t I use getPtToAssetRate">​</a></h3>
<p>Please read the following:</p>
<p><strong>Question:</strong>
I am trying to better understand why Pendle recommends the pricing of PT to SY instead of Assets. From my understanding, pricing of the PT to the SY does not expose the PT price feed the YT to Asset risk. How is the exchange rate from SY to Asset calculated and would that possibly impact the price feed if there was a scenario where there was not withdraw liquidity from SY to Asset?</p>
<p><strong>Answer:</strong>
Actually, that might be misunderstood. Pendle recommends pricing PT to SY. For SY to any other units, the integrator can choose an appropriate method based on whether the asset can be directly redeemed from the SY or if there is a slashing risk, etc.</p>
<p>Pendle can’t provide a perfect PT to Asset price because Asset price is not well defined. Take a simple example:
PT-sUSDe / SY-sUSDe with asset being USDe
Pendle can guarantee 1 PT-sUSDe can be traded to X SY-sUSDe == X sUSDe . So PT to SY price exists natively
Pendle can’t guarantee sUSDe is redeemable to some amount of USDe</p>
<p>Which now traced back to: SY-sUSDe’s asset is not USDe, but USDe staked in Ethena, and the price of this is not well defined</p>
<p><strong>Question:</strong>
Thanks! That makes sense utilizing the SY and letting integrators choose the approriate method. What would happen in essence if there was a depeg in USDe from PT to Asset, would there possibly be any impact on the PT to Asset oracle feed relative to a PT to SY?</p>
<p><strong>Answer:</strong>
for sUSDe depeg from USDe, PT price is not impacted even when PT-Asset is used because Pendle base the SY-Asset conversion rate on the underlying contract, not the market rate (this rate is SY.exchangeRate() and it will always read a rate provided by the underlying contract)</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pendle-v2/Developers/HighLevelArchitecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">High Level Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pendle-v2/Developers/Contracts/StandardizedYield"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">StandardizedYield (SY)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#contract" class="table-of-contents__link toc-highlight">Contract</a><ul><li><a href="#why-no-swapexactsyforpt" class="table-of-contents__link toc-highlight">Why No <code>swapExactSyForPt</code>?</a></li><li><a href="#how-can-i-deploy-a-new-sy-token-on-pendle" class="table-of-contents__link toc-highlight">How can I deploy a new SY Token on Pendle?</a></li></ul></li><li><a href="#backend" class="table-of-contents__link toc-highlight">Backend</a><ul><li><a href="#how-can-i-preview-the-received-amount-of-addremove-liquidity" class="table-of-contents__link toc-highlight">How can I preview the received amount of add/remove liquidity?</a></li><li><a href="#how-do-i-fetch-the-pt-price" class="table-of-contents__link toc-highlight">How do I fetch the PT price?</a></li><li><a href="#how-can-i-retrieve-historical-pt-and-yt-prices" class="table-of-contents__link toc-highlight">How can I retrieve historical PT and YT prices?</a></li></ul></li><li><a href="#others" class="table-of-contents__link toc-highlight">Others</a><ul><li><a href="#getting-up-to-date-accruedrewards-on-chain-applicable-to-sy-yt--lp" class="table-of-contents__link toc-highlight">Getting Up-to-Date <code>accruedRewards</code> On-Chain (Applicable to SY, YT, &amp; LP)</a></li><li><a href="#can-the-output-of-getrewardtokens-change" class="table-of-contents__link toc-highlight">Can the output of <code>getRewardTokens</code> change?</a></li><li><a href="#how-to-read-unclaimed-rewards-and-interest-for-syytmarket" class="table-of-contents__link toc-highlight">How to read unclaimed Rewards and Interest for SY/YT/Market</a></li><li><a href="#how-can-i-generate-all-the-params-for-the-router-on-chain" class="table-of-contents__link toc-highlight">How can I generate all the params for the Router on-chain</a></li><li><a href="#why-shouldnt-i-use-getpttoassetrate" class="table-of-contents__link toc-highlight">Why shouldn&#39;t I use getPtToAssetRate</a></li></ul></li></ul></div></div></div></div></div></main></div></div></div><div class="background_hm_f"><div class="root_DvgA"><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Pages</div><a href="https://www.pendle.finance/" target="_blank">Website</a><a href="https://app.pendle.finance/market" target="_blank">App</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Socials</div><a href="https://discord.com/invite/EAujvncY2R" target="_blank">Discord</a><a href="https://twitter.com/pendle_fi/" target="_blank">Twitter</a><a href="https://t.me/pendlefinance/" target="_blank">Telegram</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">About Us</div><a href="https://medium.com/pendle/" target="_blank">Medium</a><a href="https://angel.co/company/pendle_finance/" target="_blank">Careers</a><a href="https://pendle.finance/brandguide" target="_blank">Media Kit</a><a href="https://github.com/pendle-finance/pendle-core-v2-public/tree/master/audits" target="_blank">Audits</a></div></div></div></div>
</body>
</html>