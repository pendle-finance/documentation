"use strict";(self.webpackChunkpendle_documentation=self.webpackChunkpendle_documentation||[]).push([[1512],{3824:(s,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>n,toc:()=>m});const n=JSON.parse('{"id":"Developers/Contracts/UnitAndDecimals","title":"Unit, Decimals and Scaled18","description":"As Pendle supports a wide range of assets, it is important to understand how to handle units and decimals correctly.","source":"@site/docs/pendle-v2/Developers/Contracts/UnitAndDecimals.md","sourceDirName":"Developers/Contracts","slug":"/Developers/Contracts/UnitAndDecimals","permalink":"/cn/pendle-v2/Developers/Contracts/UnitAndDecimals","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"hide_table_of_contents":true},"sidebar":"myAutogeneratedSidebar","previous":{"title":"vePENDLE (legacy)","permalink":"/cn/pendle-v2/Developers/Contracts/vePENDLE"},"next":{"title":"Limit Order Contract","permalink":"/cn/pendle-v2/Developers/LimitOrder/LimitOrderContract"}}');var l=a(4848),i=a(8453);const t={hide_table_of_contents:!0},r="Unit, Decimals and Scaled18",c={},m=[{value:"Definition",id:"definition",level:2},{value:"Decimals of PT, YT, SY and LP",id:"decimals-of-pt-yt-sy-and-lp",level:2},{value:"Scaled18 SY",id:"scaled18-sy",level:2},{value:"Convention",id:"convention",level:3},{value:"Conversion rates",id:"conversion-rates",level:2},{value:"scaled18 SY <code>exchangeRate()</code>",id:"scaled18-sy-exchangerate",level:3}];function h(s){const e={a:"a",admonition:"admonition",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",msup:"msup",mtable:"mtable",mtd:"mtd",mtext:"mtext",mtr:"mtr",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...s.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"unit-decimals-and-scaled18",children:"Unit, Decimals and Scaled18"})}),"\n",(0,l.jsx)(e.p,{children:"As Pendle supports a wide range of assets, it is important to understand how to handle units and decimals correctly."}),"\n",(0,l.jsx)(e.h2,{id:"definition",children:"Definition"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Decimals"})," of a token is the number of digits to the right of the decimal point in the token's smallest unit. It is given by the ",(0,l.jsx)(e.code,{children:"decimals"})," method of the token contract. For example:"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Raw unit"}),' of a token X is the smallest indivisible unit of that token, often referred to as "wei" in the context of Ethereum-based tokens. This unit is used in smart contracts and calculations.']}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Natural unit"})," of a token X is the unit that is most commonly used by users, which is typically the token's decimal representation. For example:"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"Examples:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["ETH has decimals of 18, so the natural unit (1 ETH) is ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsx)(e.mn,{children:"18"})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"10^{18}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"18"})})})]})})})})})]})]})})]})," raw unit."]}),"\n",(0,l.jsxs)(e.li,{children:["USDC has decimals of 6, so the natural unit (1 USDC) is ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsx)(e.mn,{children:"6"})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"10^{6}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"6"})})})]})})})})})]})]})})]})," raw unit."]}),"\n",(0,l.jsxs)(e.li,{children:["BTC has decimals of 8, so the natural unit (1 BTC) is ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsx)(e.mn,{children:"8"})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"10^{8}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"8"})})})]})})})})})]})]})})]})," raw unit."]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"decimals-of-pt-yt-sy-and-lp",children:"Decimals of PT, YT, SY and LP"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["PT decimals and YT decimals are ",(0,l.jsx)(e.strong,{children:"the same"}),", and they are ",(0,l.jsx)(e.strong,{children:"equal"})," to the decimals of the ",(0,l.jsx)(e.em,{children:"underlying asset"}),"."]}),"\n",(0,l.jsxs)(e.li,{children:["SY decimals equal to the decimals of the ",(0,l.jsx)(e.em,{children:"yield token"}),"."]}),"\n",(0,l.jsx)(e.li,{children:"Pendle LP decimals is always 18, regardless of the underlying asset's decimals."}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["A reminder that the ",(0,l.jsx)(e.em,{children:"underlying asset"})," can be obtained using the function ",(0,l.jsx)(e.code,{children:"SY.assetInfo()"}),", while the ",(0,l.jsx)(e.em,{children:"yield token"})," can be obtained using the function ",(0,l.jsx)(e.code,{children:"SY.yieldToken()"}),"."]}),"\n",(0,l.jsx)(e.h2,{id:"scaled18-sy",children:"Scaled18 SY"}),"\n",(0,l.jsx)(e.p,{children:"As mentioned in the previous section, PT, YT and SY decimals are based on the underlying asset's decimals. However, for assets with small decimals (such as BTC), the margin for rounding error can be significant when performing calculations."}),"\n",(0,l.jsxs)(e.p,{children:["To mitigate this, we introduced a ",(0,l.jsx)(e.em,{children:"decimal-wrapping"})," mechanism. For assets with decimals less than 18, we will deploy an ERC20 wrapper, both for the the underlying asset and the yield token. The wrapper will scale the asset to 18 decimals, allowing for more precise calculations."]}),"\n",(0,l.jsx)(e.p,{children:"PT, YT and SY can then be of the wrapped asset, and they will have 18 decimals."}),"\n",(0,l.jsx)(e.h3,{id:"convention",children:"Convention"}),"\n",(0,l.jsx)(e.p,{children:"For assets that are wrapped to have 18 decimals:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["The function ",(0,l.jsx)(e.code,{children:"ERC20.decimals()"})," will return 18."]}),"\n",(0,l.jsxs)(e.li,{children:["The function ",(0,l.jsx)(e.code,{children:"ERC20.name()"})," will the original asset's name, concatenated with the suffix ",(0,l.jsx)(e.code,{children:"scaled18"}),"."]}),"\n",(0,l.jsxs)(e.li,{children:["The function ",(0,l.jsx)(e.code,{children:"ERC20.symbol()"})," will the original asset's symbol, concatenated with the suffix ",(0,l.jsx)(e.code,{children:"-scaled18"}),"."]}),"\n",(0,l.jsxs)(e.li,{children:["They will have an additional function ",(0,l.jsx)(e.code,{children:"rawToken"}),", returning the address of the original asset."]}),"\n",(0,l.jsxs)(e.li,{children:["One ",(0,l.jsx)(e.strong,{children:"natural unit"})," of the ",(0,l.jsx)(e.strong,{children:"wrapped"})," asset will equal to one ",(0,l.jsx)(e.strong,{children:"natural unit"})," of the original asset.","\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["This fact can be used to convert between the ",(0,l.jsx)(e.strong,{children:"raw unit"})," of the wrapped asset and the original one."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mtable,{rowspacing:"0.16em",columnalign:"right right center left",columnspacing:"1em",children:[(0,l.jsxs)(e.mtr,{children:[(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsx)(e.mrow,{})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{mathvariant:"normal",children:"d"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"e"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"c"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"i"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"m"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"a"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"l"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"s"})]})]}),(0,l.jsx)(e.mtext,{children:"\xa0"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{mathvariant:"normal",children:"o"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"r"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"i"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"g"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"i"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"n"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"a"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"l"})]})]})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsx)(e.mo,{lspace:"0em",rspace:"0em",children:"="})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsx)(e.mn,{children:"18"})]}),(0,l.jsx)(e.mtext,{children:"\xa0"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{mathvariant:"normal",children:"w"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"r"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"a"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"p"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"p"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"e"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"d"})]})]})})})]}),(0,l.jsxs)(e.mtr,{children:[(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsx)(e.mo,{lspace:"0em",rspace:"0em",children:"\u21d4"})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mn,{children:"1"}),(0,l.jsx)(e.mtext,{children:"\xa0"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{mathvariant:"normal",children:"o"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"r"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"i"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"g"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"i"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"n"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"a"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"l"})]})]})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsx)(e.mo,{lspace:"0em",rspace:"0em",children:"="})})}),(0,l.jsx)(e.mtd,{children:(0,l.jsx)(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mn,{children:"18"}),(0,l.jsx)(e.mo,{children:"\u2212"}),(0,l.jsx)(e.mi,{children:"d"}),(0,l.jsx)(e.mi,{children:"e"}),(0,l.jsx)(e.mi,{children:"c"}),(0,l.jsx)(e.mi,{children:"i"}),(0,l.jsx)(e.mi,{children:"m"}),(0,l.jsx)(e.mi,{children:"a"}),(0,l.jsx)(e.mi,{children:"l"}),(0,l.jsx)(e.mi,{children:"s"})]})]}),(0,l.jsx)(e.mtext,{children:"\xa0"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{mathvariant:"normal",children:"w"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"r"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"a"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"p"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"p"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"e"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"d"})]})]})})})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\begin{array}{rrcl}\n&\n    10^{\\mathrm{decimals}}\\ \\mathrm{original} & = & 10^{18}\\ \\mathrm{wrapped} \\\\\n\\Leftrightarrow &\n    1\\ \\mathrm{original} & = & 10^{18 - decimals}\\ \\mathrm{wrapped}\n\\end{array}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"2.4182em",verticalAlign:"-0.9591em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsxs)(e.span,{className:"mtable",children:[(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,l.jsx)(e.span,{className:"col-align-r",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.4591em"},children:[(0,l.jsxs)(e.span,{style:{top:"-3.61em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord"})]}),(0,l.jsxs)(e.span,{style:{top:"-2.4009em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mrel",children:"\u21d4"})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.9591em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,l.jsx)(e.span,{className:"col-align-r",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.4591em"},children:[(0,l.jsxs)(e.span,{style:{top:"-3.61em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8491em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mathrm mtight",children:"decimals"})})})})]})})})})})]}),(0,l.jsx)(e.span,{className:"mspace",children:"\xa0"}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord mathrm",children:"original"})})]})]}),(0,l.jsxs)(e.span,{style:{top:"-2.4009em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsx)(e.span,{className:"mspace",children:"\xa0"}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord mathrm",children:"original"})})]})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.9591em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,l.jsx)(e.span,{className:"col-align-c",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.4591em"},children:[(0,l.jsxs)(e.span,{style:{top:"-3.61em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mrel",children:"="})})]}),(0,l.jsxs)(e.span,{style:{top:"-2.4009em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mrel",children:"="})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.9591em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,l.jsx)(e.span,{className:"col-align-l",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.4591em"},children:[(0,l.jsxs)(e.span,{style:{top:"-3.61em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"18"})})})]})})})})})]}),(0,l.jsx)(e.span,{className:"mspace",children:"\xa0"}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord mathrm",children:"wrapped"})})]})]}),(0,l.jsxs)(e.span,{style:{top:"-2.4009em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8491em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mtight",children:"18"}),(0,l.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"ec"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"ima"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"s"})]})})]})})})})})]}),(0,l.jsx)(e.span,{className:"mspace",children:"\xa0"}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord mathrm",children:"wrapped"})})]})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.9591em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"arraycolsep",style:{width:"0.5em"}})]})})]})})]})}),"\n",(0,l.jsx)(e.p,{children:"For SY of such wrapped assets:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["The contract name will have the suffix ",(0,l.jsx)(e.code,{children:"Scaled18"}),", indicating that it is a scaled version of the original asset."]}),"\n",(0,l.jsxs)(e.li,{children:["The ",(0,l.jsx)(e.code,{children:"SY.assetInfo()"})," function will return the ",(0,l.jsx)(e.strong,{children:"wrapped"})," asset address."]}),"\n",(0,l.jsxs)(e.li,{children:["The ",(0,l.jsx)(e.code,{children:"SY.yieldToken()"})," function will return the ",(0,l.jsx)(e.strong,{children:"wrapped"})," yield token address."]}),"\n",(0,l.jsxs)(e.li,{children:["Each ",(0,l.jsx)(e.code,{children:"SY"})," will provide custom functionalities to obtain the original asset address. But the uniform way to obtain the original asset address is by calling the ",(0,l.jsx)(e.code,{children:"rawToken"})," function on of the ",(0,l.jsx)(e.strong,{children:"wrapped"})," asset/yield token."]}),"\n",(0,l.jsxs)(e.li,{children:["The ",(0,l.jsx)(e.code,{children:"wrapped"})," yield token can be in the list of ",(0,l.jsx)(e.code,{children:"tokensIn"})," and ",(0,l.jsx)(e.code,{children:"tokensOut"})," (",(0,l.jsx)(e.code,{children:"SY.getTokensIn()"})," and ",(0,l.jsx)(e.code,{children:"SY.getTokensOut()"}),")."]}),"\n",(0,l.jsxs)(e.li,{children:["See next section for the note on the ",(0,l.jsx)(e.code,{children:"exchangeRate()"})," function."]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"conversion-rates",children:"Conversion rates"}),"\n",(0,l.jsx)(e.p,{children:"For on-chain purposes, there are ways to get conversion rates between 2 different tokens, such as:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"SY.exchangeRate()"})," -  returns the exchange rate between SY and the underlying asset."]}),"\n",(0,l.jsxs)(e.li,{children:["Using on-chain ",(0,l.jsx)(e.a,{href:"/cn/pendle-v2/Developers/Oracles/HowToIntegratePtAndLpOracle",children:"Oracle"}),", the conversion rate between PT/YT/LP to SY/underlying asset can be obtained."]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["An important fact about the conversion rate is that the number returned by these function ",(0,l.jsx)(e.strong,{children:"do NOT"})," operate on the ",(0,l.jsx)(e.em,{children:"natural unit"}),", but on raw unit."]}),"\n",(0,l.jsxs)(e.admonition,{type:"tip",children:[(0,l.jsxs)(e.p,{children:["Suppose that the function ",(0,l.jsx)(e.code,{children:"SY.exchangeRate()"})," returns ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{mathvariant:"normal",children:"r"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"a"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"t"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"e"})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\mathrm{rate}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.6151em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord mathrm",children:"rate"})})]})})]}),". To convert from ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsx)(e.mi,{children:"x"})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"x"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"x"})]})})]})," ",(0,l.jsx)(e.strong,{children:"raw unit"})," SY to the underlying asset, you can use the formula: ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{children:"x"}),(0,l.jsx)(e.mo,{children:"\u22c5"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mi,{mathvariant:"normal",children:"r"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"a"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"t"}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"e"})]}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"/"}),(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsx)(e.mn,{children:"18"})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"x \\cdot \\mathrm{rate} / 10^{18}"})]})})}),(0,l.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.4445em"}}),(0,l.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,l.jsx)(e.span,{className:"mbin",children:"\u22c5"}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"1.0641em",verticalAlign:"-0.25em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsx)(e.span,{className:"mord mathrm",children:"rate"})}),(0,l.jsx)(e.span,{className:"mord",children:"/1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"18"})})})]})})})})})]})]})]})]}),". Note that ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsx)(e.mn,{children:"18"})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"10^{18}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:(0,l.jsx)(e.span,{className:"mord mtight",children:"18"})})})]})})})})})]})]})})]})," is a constant."]}),(0,l.jsx)(e.p,{children:"Conversion between PT/YT/LP to SY/underlying using the oracle rate is done similarly."})]}),"\n",(0,l.jsx)(e.admonition,{type:"tip",children:(0,l.jsxs)(e.p,{children:["If you want to convert between ",(0,l.jsx)(e.strong,{children:"natural unit"}),", please convert the input into ",(0,l.jsx)(e.strong,{children:"raw unit"})," first, and convert the result back to ",(0,l.jsx)(e.strong,{children:"natural unit"})," after the calculation."]})}),"\n",(0,l.jsxs)(e.h3,{id:"scaled18-sy-exchangerate",children:["scaled18 SY ",(0,l.jsx)(e.code,{children:"exchangeRate()"})]}),"\n",(0,l.jsxs)(e.p,{children:["For scaled18 SY, the ",(0,l.jsx)(e.code,{children:"exchangeRate()"})," function will return the exchange rate between the the SY and the ",(0,l.jsx)(e.strong,{children:"wrapped"})," underlying asset."]}),"\n",(0,l.jsxs)(e.p,{children:["To convert scaled SY of wrapped asset to the ",(0,l.jsx)(e.strong,{children:"original"})," underlying asset, we can multiply the ",(0,l.jsx)(e.code,{children:"exchangeRate()"})," by ",(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsx)(e.mrow,{children:(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mn,{children:"10"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsx)(e.mn,{children:"18"}),(0,l.jsx)(e.mo,{children:"\u2212"}),(0,l.jsx)(e.mi,{children:"d"}),(0,l.jsx)(e.mi,{children:"e"}),(0,l.jsx)(e.mi,{children:"c"}),(0,l.jsx)(e.mi,{children:"i"}),(0,l.jsx)(e.mi,{children:"m"}),(0,l.jsx)(e.mi,{children:"a"}),(0,l.jsx)(e.mi,{children:"l"}),(0,l.jsx)(e.mi,{children:"s"})]})]})}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"10^{18 - decimals}"})]})})}),(0,l.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8491em"}}),(0,l.jsx)(e.span,{className:"mord",children:"1"}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord",children:"0"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8491em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mtight",children:"18"}),(0,l.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"ec"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"ima"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"s"})]})})]})})})})})]})]})})]})," to get the conversion rate."]})]})}function d(s={}){const{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,l.jsx)(e,{...s,children:(0,l.jsx)(h,{...s})}):h(s)}},8453:(s,e,a)=>{a.d(e,{R:()=>t,x:()=>r});var n=a(6540);const l={},i=n.createContext(l);function t(s){const e=n.useContext(i);return n.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(l):s.components||l:t(s.components),n.createElement(i.Provider,{value:e},s.children)}}}]);