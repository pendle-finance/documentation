<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-boros-dev docs-version-current docs-doc-page docs-doc-id-Backend/SDK" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Boros SDK | Pendle Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pendle.finance/cn/boros-dev/Backend/SDK"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-boros-dev-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-boros-dev-current"><meta data-rh="true" property="og:title" content="Boros SDK | Pendle Documentation"><meta data-rh="true" name="description" content="The Exchange class provides an interface for interacting with the Boros trading platform. It handles operations such as placing orders, modifying orders, managing positions, and interacting with the blockchain."><meta data-rh="true" property="og:description" content="The Exchange class provides an interface for interacting with the Boros trading platform. It handles operations such as placing orders, modifying orders, managing positions, and interacting with the blockchain."><link data-rh="true" rel="icon" href="/cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pendle.finance/cn/boros-dev/Backend/SDK"><link data-rh="true" rel="alternate" href="https://pendle.finance/boros-dev/Backend/SDK" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://pendle.finance/cn/boros-dev/Backend/SDK" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://pendle.finance/boros-dev/Backend/SDK" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"üõ†Ô∏è SDK","item":"https://pendle.finance/cn/boros-dev/Backend/SDK"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZBS49V0YS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6ZBS49V0YS",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Pendle Documentation" href="/cn/opensearch.xml">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/cn/assets/css/styles.0805199b.css">
<script src="/cn/assets/js/runtime~main.c3a6e7ae.js" defer="defer"></script>
<script src="/cn/assets/js/main.663d9e92.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18m-9-9h9m-9 18h9"></path></svg></button><a href="/cn/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pendle"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Pendle V2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/pendle-v2/Introduction">Pendle V2 Docs</a></li><li><a href="https://pendle.gitbook.io/pendle-academy/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Pendle Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Boros</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cn/boros-dev">Boros Dev Docs</a></li><li><a href="https://pendle.gitbook.io/boros/boros-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Docs<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://pendle.gitbook.io/boros" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="searchContainer_eKWQ"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div><div class="language-switcher" style="display:flex;align-items:center;margin-left:12px"><select style="background:rgba(248, 250, 252, 0.8);border:1px solid rgba(15, 23, 42, 0.1);border-radius:8px;padding:6px 12px;font-size:14px;color:#475569;cursor:pointer;min-width:80px"><option value="en">English</option><option value="cn" selected="">‰∏≠ÊñáÔºà‰∏≠ÂõΩ)</option></select></div></div></div></div><div class="scrollProgressLine_ACL0"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebar_mhZE"><nav class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/boros-dev">üìñ Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/boros-dev/LitePaper">üìÑ Lite Paper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/boros-dev/HighLevelArchitecture">üèóÔ∏è High Level Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cn/boros-dev/Mechanics/OrderBook">‚öôÔ∏è Mechanics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cn/boros-dev/Contracts/Router">üìú Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/cn/boros-dev/Backend/REST API">üîå Backend Integration</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/boros-dev/Backend/REST API">üåê REST API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/boros-dev/Backend/WebSocket">üì° WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cn/boros-dev/Backend/SDK">üõ†Ô∏è SDK</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/boros-dev/FAQ">‚ùì FAQ</a></li></ul></nav></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div><div class="row"><div class="col"><div><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üîå Backend Integration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">üõ†Ô∏è SDK</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Boros SDK</h1></header>
<p>The <code>Exchange</code> class provides an interface for interacting with the Boros trading platform. It handles operations such as placing orders, modifying orders, managing positions, and interacting with the blockchain.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">‚Äã</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">yarn add @pendle/sdk-boros</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initialization">Initialization<a href="#initialization" class="hash-link" aria-label="Direct link to Initialization" title="Direct link to Initialization">‚Äã</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">constructor(walletClient: WalletClient, root: Address, accountId: number)</span><br></span></code></pre></div></div>
<p>The Exchange class requires three parameters for initialization:</p>
<ul>
<li><code>walletClient</code>: A viem WalletClient instance for signing transactions</li>
<li><code>root</code>: The wallet address (Address type from viem)</li>
<li><code>accountId</code>: The numerical ID of the account to interact with</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import { createWalletClient, http } from &#x27;viem&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import { Exchange } from &#x27;pendle-sdk-boros&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const account = privateKeyToAccount(PRIVATE_KEY);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const walletClient = createWalletClient({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  transport: http(RPC_URL),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  account: account</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const exchange = new Exchange(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  walletClient,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;0xYourWalletAddress&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  0 // accountId</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-flow-creating-an-agent-and-placing-an-order">Example Flow: Creating an Agent and Placing an Order<a href="#example-flow-creating-an-agent-and-placing-an-order" class="hash-link" aria-label="Direct link to Example Flow: Creating an Agent and Placing an Order" title="Direct link to Example Flow: Creating an Agent and Placing an Order">‚Äã</a></h2>
<p>Below is a complete example showing how to pay gas to treasury, create an agent, approve it, and place an order:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import { createWalletClient, http } from &#x27;viem&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import { privateKeyToAccount } from &#x27;viem/accounts&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Exchange,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Agent,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Side,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TimeInForce,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  MarketAccLib,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  setEnv</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">} from &#x27;pendle-sdk-boros&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">setEnv(&#x27;production&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Setup wallet client</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const PRIVATE_KEY = &#x27;0xYourPrivateKey&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const RPC_URL = &#x27;https://your-rpc-endpoint.com&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const account = privateKeyToAccount(PRIVATE_KEY);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const accountId = 0;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const walletClient = createWalletClient({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  transport: http(RPC_URL),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  account: account</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">async function placeOrderExample() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const exchange = new Exchange(walletClient, account.address, accountId);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const agent = await Agent.create(walletClient);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const approvalTx = await exchange.approveAgent(agent);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  console.log(&#x27;Agent approved:&#x27;, approvalTx);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const tokenId = 0;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const marketId = 0;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const gasBalance = await exchange.getGasBalance();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  console.log(&#x27;gasBalance&#x27;, gasBalance);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const payTreasuryRes = await exchange.payTreasury({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    isCross: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    marketId: 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    usdAmount: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  console.log(payTreasuryRes);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const marketAcc = MarketAccLib.pack(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    account.address,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    accountId,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    tokenId,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    marketId</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  );</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const orderParams: PlaceOrderParams = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    marketAcc,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    marketId,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    side: Side.LONG,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    size: BigInt(&#x27;1000000000000000000&#x27;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    limitTick: Number(getTickAtInterest(interestRate, Side.LONG)),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    tif: TimeInForce.GOOD_TIL_CANCELLED</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const orderResult = await exchange.placeOrder(orderParams);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  console.log(&#x27;Order placed:&#x27;, orderResult);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const bulkOrderResult = await exchange.bulkPlaceOrders({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    marketAcc: &#x27;0x1eca053af93a7afaefcd2133a352f422c3c04903000001ffffff&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    marketId: 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    orders: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      sides: [0, 1],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      sizes: [1000000000000000000n, 2000000000000000000n],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      limitTicks: [69, 89],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      tif: TimeInForce.GOOD_TIL_CANCELLED</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cancels: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ids: [],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      isAll: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      isStrict: false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  const {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    executeResponse: bulkOrderExecuteResponse,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    result: { orders }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  } = bulkOrderResult;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  console.log(&#x27;Bulk order result:&#x27;, bulkOrderResult);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  return orderResult;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">placeOrderExample()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  .then((result) =&gt; console.log(&#x27;Example completed successfully&#x27;))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  .catch((error) =&gt; console.error(&#x27;Error in example:&#x27;, error));</span><br></span></code></pre></div></div>
<p>This example demonstrates the complete flow from initializing the Exchange class to successfully placing an order. The agent creation and approval steps are required before you can place orders on the platform.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="order-management">Order Management<a href="#order-management" class="hash-link" aria-label="Direct link to Order Management" title="Direct link to Order Management">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-tick-at-interest">Get Tick at Interest<a href="#get-tick-at-interest" class="hash-link" aria-label="Direct link to Get Tick at Interest" title="Direct link to Get Tick at Interest">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">estimateTickForRate(rate: FixedX18, step: bigint, roundDown: boolean): bigint;</span><br></span></code></pre></div></div>
<p>Returns the tick price limit for a given interest rate and side.</p>
<p>Parameters:</p>
<ul>
<li><code>rate</code>: The interest rate</li>
<li><code>step</code>: tickstep (in market.imData)</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const tick = estimateTickForRate(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  FixedX18.fromNumber(interestRate),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  BigInt(market.imData.tickStep),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">console.log(&#x27;Tick:&#x27;, tick);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pay-gas-to-treasury">Pay gas to treasury<a href="#pay-gas-to-treasury" class="hash-link" aria-label="Direct link to Pay gas to treasury" title="Direct link to Pay gas to treasury">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const gasBalance = await exchange.getGasBalance();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">console.log(&#x27;gasBalance&#x27;, gasBalance);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const payTreasuryRes = await exchange.payTreasury({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  isCross: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 2,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  usdAmount: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">console.log(payTreasuryRes);</span><br></span></code></pre></div></div>
<p>Pay to treasury to increase gas balance so that we can send transaction for you</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="place-order">Place Order<a href="#place-order" class="hash-link" aria-label="Direct link to Place Order" title="Direct link to Place Order">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async placeOrder(params: PlaceOrderParams): Promise&lt;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  executeResponse: any;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  result: { order: any };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&gt;</span><br></span></code></pre></div></div>
<p>Places a new order on the exchange.</p>
<p>Parameters:</p>
<ul>
<li><code>marketAcc</code>: Use MarketAccLib to pack</li>
<li><code>marketId</code>: Id of the market</li>
<li><code>side</code>: Trade side (Enum: Side)</li>
<li><code>size</code>: Order size as bigint</li>
<li><code>limitTick</code>: The tick price limit</li>
<li><code>tif</code>: Time-in-force setting enum (GOOD_TIL_CANCELLED = 0, IMMEDIATE_OR_CANCEL = 1, FILL_OR_KILL = 2, POST_ONLY = 3)</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const result = await exchange.placeOrder({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc: &#x27;0xMarketAccHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  side: Side.LONG,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  size: 100000000000000000000n, // 100 tokens with 18 decimals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  limitTick: Number(getTickAtInterest(interestRate, Side.LONG)),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tif: TimeInForce.GOOD_TIL_CANCELLED</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bulk-place-orders">Bulk Place Orders<a href="#bulk-place-orders" class="hash-link" aria-label="Direct link to Bulk Place Orders" title="Direct link to Bulk Place Orders">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async bulkPlaceOrders(orderRequests: PlaceOrderParams[]): Promise&lt;Array&lt;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  executeResponse: any;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  result: { order: any };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&gt;&gt;</span><br></span></code></pre></div></div>
<p>Places multiple orders in a single transaction.</p>
<p>Parameters:</p>
<ul>
<li><code>orderRequests</code>: Array of PlaceOrderParams objects</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const bulkOrderParams: BulkPlaceOrderParams = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  side: Side.LONG,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  sizes: [BigInt(&#x27;1000000000000000000&#x27;), BigInt(&#x27;2000000000000000000&#x27;)],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  limitTicks: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Number(getTickAtInterest(interestRate, Side.LONG)),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Number(getTickAtInterest(interestRate, Side.LONG))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tif: TimeInForce.GOOD_TIL_CANCELLED</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">};</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const results = await exchange.bulkPlaceOrders(bulkOrderParams);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modify-order">Modify Order<a href="#modify-order" class="hash-link" aria-label="Direct link to Modify Order" title="Direct link to Modify Order">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async modifyOrder(params: ModifyOrderParams): Promise&lt;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  executeResponse: any;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  result: { order: any };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&gt;</span><br></span></code></pre></div></div>
<p>Modifies an existing order.</p>
<p>Parameters:</p>
<ul>
<li><code>orderId</code>: ID of the order to modify</li>
<li><code>marketAcc</code>: Hexadecimal market account identifier</li>
<li><code>marketId</code>: Id of the market</li>
<li><code>size</code>: New order size as bigint</li>
<li><code>limitTick</code>: New tick price limit</li>
<li><code>tif</code>: New time-in-force setting</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const result = await exchange.modifyOrder({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  orderId: &#x27;123456789&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc: &#x27;0xMarketAccHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  size: 150000000000000000000n, // 150 tokens with 18 decimals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  limitTick: 1050,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tif: TimeInForce.GOOD_TIL_CANCELLED</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bulk-modify-orders">Bulk Modify Orders<a href="#bulk-modify-orders" class="hash-link" aria-label="Direct link to Bulk Modify Orders" title="Direct link to Bulk Modify Orders">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async bulkModifyOrder(orderRequests: ModifyOrderParams[]): Promise&lt;Array&lt;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  executeResponse: any;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  result: { order: any };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&gt;&gt;</span><br></span></code></pre></div></div>
<p>Modifies multiple orders.</p>
<p>Parameters:</p>
<ul>
<li><code>orderRequests</code>: Array of ModifyOrderParams objects</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cancel-orders">Cancel Orders<a href="#cancel-orders" class="hash-link" aria-label="Direct link to Cancel Orders" title="Direct link to Cancel Orders">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async cancelOrders(params: CancelOrdersParams): Promise&lt;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  executeResponse: any;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  result: { cancelledOrders: any };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&gt;</span><br></span></code></pre></div></div>
<p>Cancels one or more orders.</p>
<p>Parameters:</p>
<ul>
<li><code>marketAcc</code>: Use MarketAccLib to get</li>
<li><code>marketId</code>: Id of the market</li>
<li><code>cancelAll</code>: Boolean indicating whether to cancel all orders</li>
<li><code>orderIds</code>: Array of order IDs to cancel (used when cancelAll is false)</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Cancel specific orders</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const result = await exchange.cancelOrders({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc: &#x27;0xMarketAccHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cancelAll: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  orderIds: [&#x27;123456789&#x27;, &#x27;987654321&#x27;]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Cancel all orders</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const result = await exchange.cancelOrders({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc: &#x27;0xMarketAccHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cancelAll: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  orderIds: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bulk-cancel-orders">Bulk Cancel Orders<a href="#bulk-cancel-orders" class="hash-link" aria-label="Direct link to Bulk Cancel Orders" title="Direct link to Bulk Cancel Orders">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async bulkCancelOrders(cancelOrderRequests: CancelOrdersParams[]): Promise&lt;Array&lt;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  executeResponse: any;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  result: { cancelledOrders: any };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&gt;&gt;</span><br></span></code></pre></div></div>
<p>Cancels multiple orders from different markets.</p>
<p>Parameters:</p>
<ul>
<li><code>cancelOrderRequests</code>: Array of CancelOrdersParams objects</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="agent-management">Agent Management<a href="#agent-management" class="hash-link" aria-label="Direct link to Agent Management" title="Direct link to Agent Management">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="approve-agent">Approve Agent<a href="#approve-agent" class="hash-link" aria-label="Direct link to Approve Agent" title="Direct link to Approve Agent">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async approveAgent(agent?: Agent): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Approves an agent for transaction signing.</p>
<p>Parameters:</p>
<ul>
<li><code>agent</code>: Optional Agent instance. If not provided, a new agent will be created.</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Approve a new agent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const agentApproval = await exchange.approveAgent();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Approve a specific agent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import { Agent } from &#x27;pendle-sdk-boros&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const customAgent = await Agent.create(walletClient);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const agentApproval = await exchange.approveAgent(customAgent.agent);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="funds-management">Funds Management<a href="#funds-management" class="hash-link" aria-label="Direct link to Funds Management" title="Direct link to Funds Management">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deposit">Deposit<a href="#deposit" class="hash-link" aria-label="Direct link to Deposit" title="Direct link to Deposit">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async deposit(params: DepositParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Deposits funds into the exchange.</p>
<p>Parameters:</p>
<ul>
<li><code>userAddress</code>: Address of the user</li>
<li><code>collateralAddress</code>: Address of the collateral token</li>
<li><code>amount</code>: Amount to deposit as bigint</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const receipt = await exchange.deposit({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  userAddress: &#x27;0xYourWalletAddress&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  collateralAddress: &#x27;0xTokenAddress&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  amount: 1000000000000000000n // 1 token with 18 decimals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="withdraw">Withdraw<a href="#withdraw" class="hash-link" aria-label="Direct link to Withdraw" title="Direct link to Withdraw">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async withdraw(params: WithdrawParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Withdraws funds from the exchange.</p>
<p>Parameters:</p>
<ul>
<li><code>userAddress</code>: Address of the user</li>
<li><code>collateralAddress</code>: Address of the collateral token</li>
<li><code>amount</code>: Amount to withdraw as bigint</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const receipt = await exchange.withdraw({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  userAddress: &#x27;0xYourWalletAddress&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  collateralAddress: &#x27;0xTokenAddress&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  amount: 1000000000000000000n // 1 token with 18 decimals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cash-transfer">Cash Transfer<a href="#cash-transfer" class="hash-link" aria-label="Direct link to Cash Transfer" title="Direct link to Cash Transfer">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async cashTransfer(params: CashTransferParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Transfers cash between markets.</p>
<p>Parameters:</p>
<ul>
<li><code>marketId</code>: ID of the market</li>
<li><code>isDeposit</code>: true if transferring from vault to marketId</li>
<li><code>amount</code>: Amount to transfer as bigint</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const response = await exchange.cashTransfer({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  isDeposit: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  amount: 1000000000000000000n // 1 token with 18 decimals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="position-management">Position Management<a href="#position-management" class="hash-link" aria-label="Direct link to Position Management" title="Direct link to Position Management">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="close-active-positions">Close Active Positions<a href="#close-active-positions" class="hash-link" aria-label="Direct link to Close Active Positions" title="Direct link to Close Active Positions">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async closeActivePositions(params: CloseActivePositionsParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Closes active positions.</p>
<p>Parameters:</p>
<ul>
<li><code>marketAcc</code>: Hexadecimal market account identifier</li>
<li><code>marketId</code>: Id of the market</li>
<li><code>type</code>: Type of closing (&quot;market&quot; or &quot;limit&quot;)</li>
<li><code>size</code>: Size to close as bigint</li>
<li><code>rate</code>: Optional rate for limit closings</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Close with market order</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const response = await exchange.closeActivePositions({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc: &#x27;0xMarketAccHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  type: &#x27;market&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  size: 100000000000000000000n // 100 tokens with 18 decimals</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Close with limit order</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const response = await exchange.closeActivePositions({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc: &#x27;0xMarketAccHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  type: &#x27;limit&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  size: 100000000000000000000n,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rate: 0.05 // 5% rate</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="settings-management">Settings Management<a href="#settings-management" class="hash-link" aria-label="Direct link to Settings Management" title="Direct link to Settings Management">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-settings">Update Settings<a href="#update-settings" class="hash-link" aria-label="Direct link to Update Settings" title="Direct link to Update Settings">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async updateSettings(params: UpdateSettingsParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Updates account settings.</p>
<p>Parameters:</p>
<ul>
<li><code>marketAcc</code>: Hexadecimal market account identifier</li>
<li><code>marketId</code>: Id of the market</li>
<li><code>leverage</code>: Leverage value</li>
<li><code>signature</code>: Signature as hexadecimal</li>
<li><code>agent</code>: Agent address as hexadecimal</li>
<li><code>timestamp</code>: Timestamp</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const response = await exchange.updateSettings({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketAcc: &#x27;0xMarketAccHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  leverage: 5, // 5x leverage</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  signature: &#x27;0xSignatureHex&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  agent: &#x27;0xAgentAddress&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  timestamp: Math.floor(Date.now() / 1000)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-retrieval">Data Retrieval<a href="#data-retrieval" class="hash-link" aria-label="Direct link to Data Retrieval" title="Direct link to Data Retrieval"> ‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-markets">Get Markets<a href="#get-markets" class="hash-link" aria-label="Direct link to Get Markets" title="Direct link to Get Markets">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async getMarkets(params: GetMarketsParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Retrieves market data.</p>
<p>Parameters:</p>
<ul>
<li><code>skip</code>: Optional number of records to skip</li>
<li><code>limit</code>: Optional limit on the number of records</li>
<li><code>isWhitelisted</code>: Optional filter for whitelisted markets</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const markets = await exchange.getMarkets({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  skip: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  limit: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  isWhitelisted: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-order-book">Get Order Book<a href="#get-order-book" class="hash-link" aria-label="Direct link to Get Order Book" title="Direct link to Get Order Book">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async getOrderBook(params: GetOrderBookParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Retrieves the order book for a market.</p>
<p>Parameters:</p>
<ul>
<li><code>marketId</code>: Id of the market</li>
<li><code>tickSize</code>: Tick size (0.00001, 0.0001, 0.001, 0.01, or 0.1)</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const orderBook = await exchange.getOrderBook({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tickSize: 0.001</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-pnl-limit-orders">Get PnL Limit Orders<a href="#get-pnl-limit-orders" class="hash-link" aria-label="Direct link to Get PnL Limit Orders" title="Direct link to Get PnL Limit Orders">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async getPnlLimitOrders(params: GetPnlLimitOrdersParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Retrieves PnL (Profit and Loss) limit orders.</p>
<p>Parameters:</p>
<ul>
<li><code>skip</code>: Optional number of records to skip</li>
<li><code>limit</code>: Optional limit on the number of records</li>
<li><code>isActive</code>: Optional filter for active orders</li>
<li><code>marketId</code>: Id of the market</li>
<li><code>orderBy</code>: Optional field to order by (&#x27;timeClosed&#x27;, &#x27;positionSize&#x27;, &#x27;avgFixedApr&#x27;, &#x27;avgUnderlyingApr&#x27;, &#x27;pnl&#x27;)</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const pnlOrders = await exchange.getPnlLimitOrders({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  skip: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  limit: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  isActive: true,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  orderBy: &#x27;pnl&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-collaterals">Get Collaterals<a href="#get-collaterals" class="hash-link" aria-label="Direct link to Get Collaterals" title="Direct link to Get Collaterals">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async getCollaterals(): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Retrieves collateral information for the current user and account.</p>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const collaterals = await exchange.getCollaterals();</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-active-positions">Get Active Positions<a href="#get-active-positions" class="hash-link" aria-label="Direct link to Get Active Positions" title="Direct link to Get Active Positions">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async getActivePositions(params: GetActivePositionsParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Retrieves active positions.</p>
<p>Parameters:</p>
<ul>
<li><code>marketId</code>: Id of the market</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get all active positions</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const allPositions = await exchange.getActivePositions({});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get active positions for a specific market</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">const marketPositions = await exchange.getActivePositions({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-closed-positions">Get Closed Positions<a href="#get-closed-positions" class="hash-link" aria-label="Direct link to Get Closed Positions" title="Direct link to Get Closed Positions">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">async getClosedPositions(params: GetClosedPositionsParams): Promise&lt;any&gt;</span><br></span></code></pre></div></div>
<p>Retrieves closed positions.</p>
<p>Parameters:</p>
<ul>
<li><code>marketId</code>: Id of the market</li>
<li><code>skip</code>: Optional number of records to skip</li>
<li><code>limit</code>: Optional limit on the number of records</li>
<li><code>orderBy</code>: Optional field to order by (&#x27;timeClosed&#x27;, &#x27;positionSize&#x27;, &#x27;avgFixedApr&#x27;, &#x27;avgUnderlyingApr&#x27;, &#x27;pnl&#x27;)</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">const closedPositions = await exchange.getClosedPositions({</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  marketId: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  skip: 0,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  limit: 10,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  orderBy: &#x27;timeClosed&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cn/boros-dev/Backend/WebSocket"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">üì° WebSocket</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cn/boros-dev/FAQ"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">‚ùì FAQ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#initialization" class="table-of-contents__link toc-highlight">Initialization</a></li><li><a href="#example-flow-creating-an-agent-and-placing-an-order" class="table-of-contents__link toc-highlight">Example Flow: Creating an Agent and Placing an Order</a></li><li><a href="#order-management" class="table-of-contents__link toc-highlight">Order Management</a><ul><li><a href="#get-tick-at-interest" class="table-of-contents__link toc-highlight">Get Tick at Interest</a></li><li><a href="#pay-gas-to-treasury" class="table-of-contents__link toc-highlight">Pay gas to treasury</a></li><li><a href="#place-order" class="table-of-contents__link toc-highlight">Place Order</a></li><li><a href="#bulk-place-orders" class="table-of-contents__link toc-highlight">Bulk Place Orders</a></li><li><a href="#modify-order" class="table-of-contents__link toc-highlight">Modify Order</a></li><li><a href="#bulk-modify-orders" class="table-of-contents__link toc-highlight">Bulk Modify Orders</a></li><li><a href="#cancel-orders" class="table-of-contents__link toc-highlight">Cancel Orders</a></li><li><a href="#bulk-cancel-orders" class="table-of-contents__link toc-highlight">Bulk Cancel Orders</a></li></ul></li><li><a href="#agent-management" class="table-of-contents__link toc-highlight">Agent Management</a><ul><li><a href="#approve-agent" class="table-of-contents__link toc-highlight">Approve Agent</a></li></ul></li><li><a href="#funds-management" class="table-of-contents__link toc-highlight">Funds Management</a><ul><li><a href="#deposit" class="table-of-contents__link toc-highlight">Deposit</a></li><li><a href="#withdraw" class="table-of-contents__link toc-highlight">Withdraw</a></li><li><a href="#cash-transfer" class="table-of-contents__link toc-highlight">Cash Transfer</a></li></ul></li><li><a href="#position-management" class="table-of-contents__link toc-highlight">Position Management</a><ul><li><a href="#close-active-positions" class="table-of-contents__link toc-highlight">Close Active Positions</a></li></ul></li><li><a href="#settings-management" class="table-of-contents__link toc-highlight">Settings Management</a><ul><li><a href="#update-settings" class="table-of-contents__link toc-highlight">Update Settings</a></li></ul></li><li><a href="#data-retrieval" class="table-of-contents__link toc-highlight">Data Retrieval</a><ul><li><a href="#get-markets" class="table-of-contents__link toc-highlight">Get Markets</a></li><li><a href="#get-order-book" class="table-of-contents__link toc-highlight">Get Order Book</a></li><li><a href="#get-pnl-limit-orders" class="table-of-contents__link toc-highlight">Get PnL Limit Orders</a></li><li><a href="#get-collaterals" class="table-of-contents__link toc-highlight">Get Collaterals</a></li><li><a href="#get-active-positions" class="table-of-contents__link toc-highlight">Get Active Positions</a></li><li><a href="#get-closed-positions" class="table-of-contents__link toc-highlight">Get Closed Positions</a></li></ul></li></ul></div></div></div></div></div></main></div></div></div><div class="background_hm_f"><div class="root_DvgA"><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Pages</div><a href="https://www.pendle.finance/" target="_blank">Website</a><a href="https://app.pendle.finance/market" target="_blank">App</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Socials</div><a href="https://discord.com/invite/EAujvncY2R" target="_blank">Discord</a><a href="https://twitter.com/pendle_fi/" target="_blank">Twitter</a><a href="https://t.me/pendlefinance/" target="_blank">Telegram</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">About Us</div><a href="https://medium.com/pendle/" target="_blank">Medium</a><a href="https://angel.co/company/pendle_finance/" target="_blank">Careers</a><a href="https://pendle.finance/brandguide" target="_blank">Media Kit</a><a href="https://github.com/pendle-finance/pendle-core-v2-public/tree/master/audits" target="_blank">Audits</a></div></div></div></div>
</body>
</html>