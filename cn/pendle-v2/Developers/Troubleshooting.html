<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Developers/Troubleshooting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Troubleshooting Guide | Pendle Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pendle.finance/cn/pendle-v2/Developers/Troubleshooting"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshooting Guide | Pendle Documentation"><meta data-rh="true" name="description" content="This guide covers common errors and issues encountered when integrating with or using the Pendle Protocol. It is organized by category to help you quickly identify and resolve problems."><meta data-rh="true" property="og:description" content="This guide covers common errors and issues encountered when integrating with or using the Pendle Protocol. It is organized by category to help you quickly identify and resolve problems."><link data-rh="true" rel="icon" href="/cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pendle.finance/cn/pendle-v2/Developers/Troubleshooting"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/Troubleshooting" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://pendle.finance/cn/pendle-v2/Developers/Troubleshooting" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/Troubleshooting" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"üîß Troubleshooting","item":"https://pendle.finance/cn/pendle-v2/Developers/Troubleshooting"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZBS49V0YS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6ZBS49V0YS",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Pendle Documentation" href="/cn/opensearch.xml">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/cn/assets/css/styles.0805199b.css">
<script src="/cn/assets/js/runtime~main.a3162631.js" defer="defer"></script>
<script src="/cn/assets/js/main.0f54531c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18m-9-9h9m-9 18h9"></path></svg></button><a href="/cn/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pendle"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Pendle V2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/pendle-v2/Introduction">Pendle V2 Docs</a></li><li><a href="https://pendle.gitbook.io/pendle-academy/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Pendle Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Boros</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/boros-dev">Boros Dev Docs</a></li><li><a href="https://pendle.gitbook.io/boros/boros-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Docs<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://pendle.gitbook.io/boros" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="searchContainer_eKWQ"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div><div class="language-switcher" style="display:flex;align-items:center;margin-left:12px"><select style="background:rgba(248, 250, 252, 0.8);border:1px solid rgba(15, 23, 42, 0.1);border-radius:8px;padding:6px 12px;font-size:14px;color:#475569;cursor:pointer;min-width:80px"><option value="en">English</option><option value="cn" selected="">‰∏≠ÊñáÔºà‰∏≠ÂõΩ)</option></select></div></div></div></div><div class="scrollProgressLine_ACL0"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebar_mhZE"><nav class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/pendle-v2/Introduction">üìñ Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/pendle-v2/FAQ">‚ùì FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cn/pendle-v2/ProtocolMechanics/Glossary">‚öôÔ∏è Protocol Mechanics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cn/pendle-v2/AppGuide/UsingPendle">üì± App Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/cn/pendle-v2/Developers/Overview">üë®‚Äçüíª Developers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/HighLevelArchitecture">High Level Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/FAQ">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cn/pendle-v2/Developers/Troubleshooting">üîß Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/Integration/CommunityListing">ü§ù Integration Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/StandardizedYield">üìú Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/LimitOrder/LimitOrderContract">üìã Limit Orders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/Oracles/HowToIntegratePtAndLpOracle">üîÆ Oracles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/Backend/ApiOverview">üõ†Ô∏è Off-chain helpers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Deployments">üöÄ Deployments</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/pendle-v2/Security">üîí Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/pendle-finance/pendle-v2-resources/tree/main/whitepapers" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">üìÑ Whitepapers<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://app.pendle.finance/pro/education/learn" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">üìö Learn In-App<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://pendle.gitbook.io/pendle-academy" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">üéì Pendle Academy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div><div class="row"><div class="col"><div><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üë®‚Äçüíª Developers</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">üîß Troubleshooting</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Troubleshooting Guide</h1></header>
<p>This guide covers common errors and issues encountered when integrating with or using the Pendle Protocol. It is organized by category to help you quickly identify and resolve problems.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-troubleshooting-principles">General Troubleshooting Principles<a href="#general-troubleshooting-principles" class="hash-link" aria-label="Direct link to General Troubleshooting Principles" title="Direct link to General Troubleshooting Principles">‚Äã</a></h2>
<p>When facing unexpected behavior, start with these client-side checks:</p>
<ul>
<li><strong>Hard Refresh and Clear Cache</strong>: A simple hard refresh can resolve transient UI glitches or data display issues. If problems persist, clear browser cache and application storage.</li>
<li><strong>Check Wallet and Network Connection</strong>: Verify the correct wallet is connected and set to the appropriate network. An incorrect ETH balance display is almost always a sign of a wrong wallet connection.</li>
<li><strong>Review Browser Console Logs</strong>: Open the developer console (F12), retry the failing operation, and look for error messages. A screenshot of the console output is extremely helpful when reporting issues.</li>
<li><strong>Check RPC and Security Software</strong>: Transaction signing issues (e.g., wallet pop-up not appearing) are often related to the RPC provider, not Pendle&#x27;s infrastructure. Try switching to a different public RPC from <a href="https://chainlist.org" target="_blank" rel="noopener noreferrer">Chainlist</a>. VPNs, firewalls, or malware protection software can sometimes block RPC communications.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bug-reporting-best-practices">Bug Reporting Best Practices<a href="#bug-reporting-best-practices" class="hash-link" aria-label="Direct link to Bug Reporting Best Practices" title="Direct link to Bug Reporting Best Practices">‚Äã</a></h3>
<p>To facilitate a swift resolution, provide as much detail as possible:</p>
<ul>
<li><strong>Transaction Hash (Tx Hash)</strong>: The most critical piece of information, even for failed transactions.</li>
<li><strong>Transaction Calldata</strong>: For pre-transaction failures or simulation issues.</li>
<li><strong>Wallet Address</strong>: Helps trace user-specific states (balances, rewards, voting history).</li>
<li><strong>Simulation Links</strong>: Generate and share simulations using tools like <a href="https://tenderly.co" target="_blank" rel="noopener noreferrer">Tenderly</a> or <a href="https://sentio.xyz" target="_blank" rel="noopener noreferrer">Sentio</a>.</li>
<li><strong>Operation Specifics</strong>: The blockchain network, market/pool address, input/output tokens and amounts, and the exact error message.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="smart-contract-interaction-errors">Smart Contract Interaction Errors<a href="#smart-contract-interaction-errors" class="hash-link" aria-label="Direct link to Smart Contract Interaction Errors" title="Direct link to Smart Contract Interaction Errors">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="slippage-and-price-movement">Slippage and Price Movement<a href="#slippage-and-price-movement" class="hash-link" aria-label="Direct link to Slippage and Price Movement" title="Direct link to Slippage and Price Movement">‚Äã</a></h3>
<p>Transactions can fail if the asset price moves beyond the specified slippage tolerance between transaction creation and on-chain confirmation.</p>
<ul>
<li><strong>Solution 1 (Preferred)</strong>: Increase the transaction&#x27;s gas fee (e.g., use &#x27;aggressive&#x27; or &#x27;instant&#x27; settings). This reduces confirmation time, minimizing the window for price changes.</li>
<li><strong>Solution 2</strong>: Increase the slippage tolerance in the dApp settings. This allows wider price fluctuation but may result in a less favorable execution price.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="expired-aggregator-quotes-approx_exhausted">Expired Aggregator Quotes (<code>APPROX_EXHAUSTED</code>)<a href="#expired-aggregator-quotes-approx_exhausted" class="hash-link" aria-label="Direct link to expired-aggregator-quotes-approx_exhausted" title="Direct link to expired-aggregator-quotes-approx_exhausted">‚Äã</a></h3>
<p>Data generated for a transaction (e.g., a route from an aggregator or an <code>approx</code> parameter) is highly time-sensitive and often only valid for the block in which it was generated.</p>
<ul>
<li><strong>Error</strong>: <code>Slippage: APPROX_EXHAUSTED</code> or <code>Insufficient PT</code></li>
<li><strong>Cause</strong>: Using stale transaction data even a few blocks after generation.</li>
<li><strong>Solution</strong>: Always generate fresh calldata immediately before sending the transaction.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="slippage-search-range-overflow"><code>Slippage: search range overflow</code><a href="#slippage-search-range-overflow" class="hash-link" aria-label="Direct link to slippage-search-range-overflow" title="Direct link to slippage-search-range-overflow">‚Äã</a></h3>
<p>This error indicates the swap amount is too large for the market to handle at its current liquidity depth. Reduce the trade size or wait for more liquidity.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="market-out-of-range-marketproportiontoohigh">Market Out of Range (<code>MarketProportionTooHigh</code>)<a href="#market-out-of-range-marketproportiontoohigh" class="hash-link" aria-label="Direct link to market-out-of-range-marketproportiontoohigh" title="Direct link to market-out-of-range-marketproportiontoohigh">‚Äã</a></h3>
<p>Pendle&#x27;s AMM pools operate within a configured yield range. If high demand pushes the implied APY beyond the pool&#x27;s upper boundary, the market goes <strong>&quot;out of range.&quot;</strong></p>
<ul>
<li><strong>Error</strong>: <code>MarketProportionTooHigh</code> (error signature <code>0xfc68d09e</code>)</li>
<li><strong>Impact</strong>: The following actions are disabled:<!-- -->
<ul>
<li>Buying YT via market orders</li>
<li>Selling PT via market orders</li>
<li>Using the &quot;Zap Out&quot; function</li>
</ul>
</li>
<li><strong>Workaround</strong>: Use <strong>limit orders</strong> instead of market orders.</li>
<li><strong>Resolution</strong>: The Pendle team typically redeploys the pool with a wider yield range. LPs in the old pool should migrate to the new pool.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-route-found--no-route-found-to-add-liquidity"><code>No route found</code> / <code>No route found to add liquidity</code><a href="#no-route-found--no-route-found-to-add-liquidity" class="hash-link" aria-label="Direct link to no-route-found--no-route-found-to-add-liquidity" title="Direct link to no-route-found--no-route-found-to-add-liquidity">‚Äã</a></h3>
<p>This error indicates the system could not find a viable path to convert the input token to the required asset(s).</p>
<ul>
<li><strong>Insufficient Liquidity</strong>: Most common cause ‚Äî the token pair lacks DEX liquidity on the specified chain.</li>
<li><strong>Aggregator Issues</strong>: The aggregator may be experiencing transient issues or may not support the token pair.</li>
<li><strong>RPC Issues</strong>: Sometimes caused by an underlying RPC problem.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="liquidity-insufficient"><code>liquidity insufficient</code><a href="#liquidity-insufficient" class="hash-link" aria-label="Direct link to liquidity-insufficient" title="Direct link to liquidity-insufficient">‚Äã</a></h3>
<p>The pool&#x27;s liquidity is not deep enough for the requested trade size. This is distinct from &quot;no route&quot; ‚Äî a route exists, but the trade is too large.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transferhelper-transfer_from_failed"><code>TransferHelper: TRANSFER_FROM_FAILED</code><a href="#transferhelper-transfer_from_failed" class="hash-link" aria-label="Direct link to transferhelper-transfer_from_failed" title="Direct link to transferhelper-transfer_from_failed">‚Äã</a></h3>
<p>Often occurs during liquidity removal when the aggregator used for the transaction encounters issues, especially when zapping out to tokens requiring complex swap data.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reward-claiming-issues">Reward Claiming Issues<a href="#reward-claiming-issues" class="hash-link" aria-label="Direct link to Reward Claiming Issues" title="Direct link to Reward Claiming Issues">‚Äã</a></h3>
<ul>
<li><strong><code>userReward</code> Returning Zero</strong>: Calling <code>userReward</code> on a <code>PendleMarket</code> contract may return 0 even if rewards have accrued. The contract does not write accrued rewards to storage in real-time. To get accurate values, perform a <strong>static call</strong> (<code>eth_call</code> or <code>.callStatic</code>) to <code>redeemRewards(address user)</code>.</li>
<li><strong>UI Showing Zero Rewards</strong>: The Pendle UI uses a static call to check claimable rewards. If this call reverts (e.g., the recipient contract lacks a <code>receive()</code> function to accept native ETH rewards), the UI defaults to displaying 0.</li>
<li><strong>Reverts on <code>redeemRewards</code> in Matured Pools</strong>: An older implementation caused reward calculations to be incorrect after pool expiry. A <strong>reward redeem proxy</strong> contract was deployed as a fix. To redeem rewards from affected markets, call the proxy instead of the market contract directly.</li>
<li><strong>Reverts Due to Depleted Incentives</strong>: Transactions can revert if an external incentive program (e.g., ARB incentives from Silo pools) runs out of its reward tokens.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-and-price-feed-issues">Oracle and Price Feed Issues<a href="#oracle-and-price-feed-issues" class="hash-link" aria-label="Direct link to Oracle and Price Feed Issues" title="Direct link to Oracle and Price Feed Issues">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="increasecardinalityrequiredtrue--error-0x39db717e"><code>increaseCardinalityRequired=true</code> / Error <code>0x39db717e</code><a href="#increasecardinalityrequiredtrue--error-0x39db717e" class="hash-link" aria-label="Direct link to increasecardinalityrequiredtrue--error-0x39db717e" title="Direct link to increasecardinalityrequiredtrue--error-0x39db717e">‚Äã</a></h3>
<ul>
<li><strong>Cause</strong>: The oracle lacks enough historical price data points (cardinality) for the requested TWAP. The <code>observationCardinality</code> on the underlying AMM pool may be at its default value of 1.</li>
<li><strong>Solution</strong>:<!-- -->
<ol>
<li>Call <code>increaseObservationCardinalityNext</code> on the market/oracle contract. A common required value is 1800. For some oracles, calculate as <code>duration / 11</code> (e.g., for a 900s TWAP, use <code>82</code>).</li>
<li><strong>Wait ~15 minutes</strong> for the oracle to populate with sufficient data. The <code>increaseCardinalityRequired</code> flag will switch to <code>false</code> once ready.</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oracletargettooold--toostaleprice"><code>OracleTargetTooOld</code> / <code>TooStalePrice()</code><a href="#oracletargettooold--toostaleprice" class="hash-link" aria-label="Direct link to oracletargettooold--toostaleprice" title="Direct link to oracletargettooold--toostaleprice">‚Äã</a></h3>
<p>The last price update from the oracle is older than the maximum acceptable age. This safety mechanism prevents trading on outdated information. If an oracle provider (e.g., Pyth) is unresponsive, Pendle&#x27;s functions fall back to the last known exchange rate.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oracle_not_feasible"><code>ORACLE_NOT_FEASIBLE</code><a href="#oracle_not_feasible" class="hash-link" aria-label="Direct link to oracle_not_feasible" title="Direct link to oracle_not_feasible">‚Äã</a></h3>
<p>Originates from an integrated DEX, not directly from Pendle. Often occurs in a <strong>forked network</strong> environment where the Chainlink or Pyth oracle has not been updated and has fallen behind the forked block&#x27;s timestamp.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="incorrect-price-display">Incorrect Price Display<a href="#incorrect-price-display" class="hash-link" aria-label="Direct link to Incorrect Price Display" title="Direct link to Incorrect Price Display">‚Äã</a></h3>
<p>Mismatches between the UI and on-chain reality (e.g., a matured PT displaying an incorrect price, or a &quot;100% loss&quot; display) are often due to an external data provider (like DeBank) supplying a faulty price feed.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-indexing-and-api-errors">Data, Indexing, and API Errors<a href="#data-indexing-and-api-errors" class="hash-link" aria-label="Direct link to Data, Indexing, and API Errors" title="Direct link to Data, Indexing, and API Errors">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rate-limiting--timeouts">Rate Limiting &amp; Timeouts<a href="#rate-limiting--timeouts" class="hash-link" aria-label="Direct link to Rate Limiting &amp; Timeouts" title="Direct link to Rate Limiting &amp; Timeouts">‚Äã</a></h3>
<p>For detailed information on rate limiting (CU system, headers, best practices) and recommended timeout settings, see the <a href="/cn/pendle-v2/Developers/Backend/ApiOverview#rate-limiting">API Overview ‚Äî Rate Limiting</a> section.</p>
<p><strong>Quick tips</strong>: A <code>429</code> error is most often caused by the <strong>RPC provider</strong>, not the Pendle API. Use a private or paid archival RPC for intensive operations. Set a client-side HTTP timeout of at least <strong>120 seconds</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hosted-sdk-limitations">Hosted SDK Limitations<a href="#hosted-sdk-limitations" class="hash-link" aria-label="Direct link to Hosted SDK Limitations" title="Direct link to Hosted SDK Limitations">‚Äã</a></h3>
<p>The Hosted SDK only supports <strong>whitelisted markets</strong>. Interacting with a non-whitelisted market returns a <code>Market not found</code> error.</p>
<ul>
<li><strong><code>400 Bad Request: syTokenOutAddr is not a valid SY token out</code></strong>: Previously an intermittent bug; now fixed.</li>
<li><strong><code>404 Not Found</code></strong>: When checking rewards eligibility, 404 means the address is not eligible. When querying a market, it means the market address is not found on the specified chain.</li>
<li><strong><code>Token is not swappable via aggregator</code></strong>: The token is not whitelisted for zapping. This can happen if a token initially has very high price impact; it can be whitelisted after review.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="selector-not-found"><code>selector not found</code><a href="#selector-not-found" class="hash-link" aria-label="Direct link to selector-not-found" title="Direct link to selector-not-found">‚Äã</a></h3>
<p>When calling functions like <code>getYtToSyRate</code> on a historical block, this error indicates the function did not exist on the contract at that point in time. The function was added in a later deployment and cannot query data before its deployment block.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-integration-issues">Third-Party Integration Issues<a href="#third-party-integration-issues" class="hash-link" aria-label="Direct link to Third-Party Integration Issues" title="Direct link to Third-Party Integration Issues">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="public-rpc-limitations">Public RPC Limitations<a href="#public-rpc-limitations" class="hash-link" aria-label="Direct link to Public RPC Limitations" title="Direct link to Public RPC Limitations">‚Äã</a></h3>
<p>Public RPCs (e.g., the default MetaMask Arbitrum RPC via Ankr) are prone to issues: multicall problems, corrupted data, and strict rate limits that interfere with data-intensive tasks.</p>
<p><strong>Recommendation</strong>: For any serious development, backfilling, or production service, use a <strong>private, archival RPC provider</strong> (e.g., QuickNode).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggregator-related-failures">Aggregator-Related Failures<a href="#aggregator-related-failures" class="hash-link" aria-label="Direct link to Aggregator-Related Failures" title="Direct link to Aggregator-Related Failures">‚Äã</a></h3>
<ul>
<li><strong>Stale Routes</strong>: A common cause for <code>swapExactTokenForPt</code> reverts ‚Äî the route provided is stale or invalid by execution time.</li>
<li><strong>Simulation Inaccuracy</strong>: Aggregator simulations can be unreliable when the wallet lacks sufficient funds for the simulated amount. The aggregator may return a &quot;stale&quot; route that looks good on paper but fails in a real transaction. Accurate simulation requires both sufficient balance and token approval.</li>
<li><strong>KyberSwap Reliability</strong>: KyberSwap has been noted as occasionally unreliable. If transactions fail, retry with the problematic aggregator excluded from the <code>aggregators</code> parameter.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="protocol-pauses">Protocol Pauses<a href="#protocol-pauses" class="hash-link" aria-label="Direct link to Protocol Pauses" title="Direct link to Protocol Pauses">‚Äã</a></h3>
<p>In the event of a security compromise on an integrated protocol (e.g., Penpie, Zerolend), Pendle may pause its own contracts as a precautionary measure. Once the attack is confirmed to be isolated and that protocol has been paused, Pendle will unpause its contracts.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-and-testing">Development and Testing<a href="#development-and-testing" class="hash-link" aria-label="Direct link to Development and Testing" title="Direct link to Development and Testing">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-maintained-testnet">No Maintained Testnet<a href="#no-maintained-testnet" class="hash-link" aria-label="Direct link to No Maintained Testnet" title="Direct link to No Maintained Testnet">‚Äã</a></h3>
<p>Pendle <strong>does not maintain a deployment on public testnets</strong> like Sepolia.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forking-mainnet-recommended-approach">Forking Mainnet (Recommended Approach)<a href="#forking-mainnet-recommended-approach" class="hash-link" aria-label="Direct link to Forking Mainnet (Recommended Approach)" title="Direct link to Forking Mainnet (Recommended Approach)">‚Äã</a></h3>
<p>The standard approach for testing is to <strong>fork a mainnet environment</strong> (e.g., Ethereum, Arbitrum) to a local development environment. Tools like <a href="https://book.getfoundry.sh/" target="_blank" rel="noopener noreferrer">Foundry</a> or <a href="https://hardhat.org/" target="_blank" rel="noopener noreferrer">Hardhat</a> are essential.</p>
<p><strong>Hardhat Configuration Tips:</strong></p>
<ul>
<li><strong>Persistence</strong>: When running multiple operations (e.g., deploying then seeding), ensure Hardhat connects to a <strong>single, persistent fork instance</strong>. Otherwise, each operation may create a new, independent fork, losing state from previous steps.</li>
<li><strong>Shanghai Hardfork</strong>: When using a forked network, <code>Invalid Opcode</code> errors are common if the environment is not configured for the Shanghai hardfork. Ensure your Hardhat version is up-to-date and configure the <code>hardforkHistory</code> in your <code>hardhat.config.ts</code>.</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cn/pendle-v2/Developers/FAQ"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Frequently Asked Questions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cn/pendle-v2/Developers/Integration/CommunityListing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Community Listing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-troubleshooting-principles" class="table-of-contents__link toc-highlight">General Troubleshooting Principles</a><ul><li><a href="#bug-reporting-best-practices" class="table-of-contents__link toc-highlight">Bug Reporting Best Practices</a></li></ul></li><li><a href="#smart-contract-interaction-errors" class="table-of-contents__link toc-highlight">Smart Contract Interaction Errors</a><ul><li><a href="#slippage-and-price-movement" class="table-of-contents__link toc-highlight">Slippage and Price Movement</a></li><li><a href="#expired-aggregator-quotes-approx_exhausted" class="table-of-contents__link toc-highlight">Expired Aggregator Quotes (<code>APPROX_EXHAUSTED</code>)</a></li><li><a href="#slippage-search-range-overflow" class="table-of-contents__link toc-highlight"><code>Slippage: search range overflow</code></a></li><li><a href="#market-out-of-range-marketproportiontoohigh" class="table-of-contents__link toc-highlight">Market Out of Range (<code>MarketProportionTooHigh</code>)</a></li><li><a href="#no-route-found--no-route-found-to-add-liquidity" class="table-of-contents__link toc-highlight"><code>No route found</code> / <code>No route found to add liquidity</code></a></li><li><a href="#liquidity-insufficient" class="table-of-contents__link toc-highlight"><code>liquidity insufficient</code></a></li><li><a href="#transferhelper-transfer_from_failed" class="table-of-contents__link toc-highlight"><code>TransferHelper: TRANSFER_FROM_FAILED</code></a></li><li><a href="#reward-claiming-issues" class="table-of-contents__link toc-highlight">Reward Claiming Issues</a></li></ul></li><li><a href="#oracle-and-price-feed-issues" class="table-of-contents__link toc-highlight">Oracle and Price Feed Issues</a><ul><li><a href="#increasecardinalityrequiredtrue--error-0x39db717e" class="table-of-contents__link toc-highlight"><code>increaseCardinalityRequired=true</code> / Error <code>0x39db717e</code></a></li><li><a href="#oracletargettooold--toostaleprice" class="table-of-contents__link toc-highlight"><code>OracleTargetTooOld</code> / <code>TooStalePrice()</code></a></li><li><a href="#oracle_not_feasible" class="table-of-contents__link toc-highlight"><code>ORACLE_NOT_FEASIBLE</code></a></li><li><a href="#incorrect-price-display" class="table-of-contents__link toc-highlight">Incorrect Price Display</a></li></ul></li><li><a href="#data-indexing-and-api-errors" class="table-of-contents__link toc-highlight">Data, Indexing, and API Errors</a><ul><li><a href="#rate-limiting--timeouts" class="table-of-contents__link toc-highlight">Rate Limiting &amp; Timeouts</a></li><li><a href="#hosted-sdk-limitations" class="table-of-contents__link toc-highlight">Hosted SDK Limitations</a></li><li><a href="#selector-not-found" class="table-of-contents__link toc-highlight"><code>selector not found</code></a></li></ul></li><li><a href="#third-party-integration-issues" class="table-of-contents__link toc-highlight">Third-Party Integration Issues</a><ul><li><a href="#public-rpc-limitations" class="table-of-contents__link toc-highlight">Public RPC Limitations</a></li><li><a href="#aggregator-related-failures" class="table-of-contents__link toc-highlight">Aggregator-Related Failures</a></li><li><a href="#protocol-pauses" class="table-of-contents__link toc-highlight">Protocol Pauses</a></li></ul></li><li><a href="#development-and-testing" class="table-of-contents__link toc-highlight">Development and Testing</a><ul><li><a href="#no-maintained-testnet" class="table-of-contents__link toc-highlight">No Maintained Testnet</a></li><li><a href="#forking-mainnet-recommended-approach" class="table-of-contents__link toc-highlight">Forking Mainnet (Recommended Approach)</a></li></ul></li></ul></div></div></div></div></div></main></div></div></div><div class="background_hm_f"><div class="root_DvgA"><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Pages</div><a href="https://www.pendle.finance/" target="_blank">Website</a><a href="https://app.pendle.finance/market" target="_blank">App</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Socials</div><a href="https://discord.com/invite/EAujvncY2R" target="_blank">Discord</a><a href="https://twitter.com/pendle_fi/" target="_blank">Twitter</a><a href="https://t.me/pendlefinance/" target="_blank">Telegram</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">About Us</div><a href="https://medium.com/pendle/" target="_blank">Medium</a><a href="https://angel.co/company/pendle_finance/" target="_blank">Careers</a><a href="https://pendle.finance/brandguide" target="_blank">Media Kit</a><a href="https://github.com/pendle-finance/pendle-core-v2-public/tree/master/audits" target="_blank">Audits</a></div></div></div></div>
</body>
</html>