<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Developers/Contracts/PendleRouter/ApiReference/Types" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Types and Utility Functions | Pendle Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pendle.finance/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Types and Utility Functions | Pendle Documentation"><meta data-rh="true" name="description" content="This document covers all struct types used throughout the Pendle Router and utility functions for generating parameters on-chain."><meta data-rh="true" property="og:description" content="This document covers all struct types used throughout the Pendle Router and utility functions for generating parameters on-chain."><link data-rh="true" rel="icon" href="/cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pendle.finance/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://pendle.finance/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://pendle.finance/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GFVY0GOMCR-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Types and Utility Functions","item":"https://pendle.finance/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZBS49V0YS"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6ZBS49V0YS",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Pendle Documentation" href="/cn/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/cn/assets/css/styles.d8610ff0.css">
<script src="/cn/assets/js/runtime~main.d930c6e6.js" defer="defer"></script>
<script src="/cn/assets/js/main.7379b5ed.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18m-9-9h9m-9 18h9"></path></svg></button><a href="/cn/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pendle"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Pendle V2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/pendle-v2/Introduction">Pendle V2 Docs</a></li><li><a href="https://pendle.gitbook.io/pendle-academy/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Pendle Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Boros</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cn/boros-dev">Boros Dev Docs</a></li><li><a href="https://pendle.gitbook.io/boros/boros-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Docs<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://pendle.gitbook.io/boros" target="_blank" rel="noopener noreferrer" class="dropdown__link">Boros Academy<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="searchContainer_eKWQ"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button><div class="language-switcher" style="display:flex;align-items:center;margin-left:12px"><select style="background:rgba(248, 250, 252, 0.8);border:1px solid rgba(15, 23, 42, 0.1);border-radius:8px;padding:6px 12px;font-size:14px;color:#475569;cursor:pointer;min-width:80px"><option value="en">English</option><option value="cn" selected="">中文（中国)</option></select></div></div></div></div><div class="scrollProgressLine_ACL0"></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebar_mhZE"><nav class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/pendle-v2/Introduction">📖 Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/pendle-v2/FAQ">❓ FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cn/pendle-v2/ProtocolMechanics/Glossary">⚙️ Protocol Mechanics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cn/pendle-v2/AppGuide/UsingPendle">📱 App Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/cn/pendle-v2/Developers/Overview">👨‍💻 Developers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/HighLevelArchitecture">High Level Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/FAQ">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/StandardizedYield">📜 Contracts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/StandardizedYield">StandardizedYield (SY)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/YieldTokenization">Yield Tokenization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleMarket">PendleMarket</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/PendleRouterOverview">PendleRouter</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/PendleRouterOverview">Pendle Router Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ContractIntegrationGuide">Pendle Router Contract Integration Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types">API Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/Types">Types and Utility Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/PtFunctions">Principal Token (PT) Trading Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/YtFunctions">Yield Token (YT) Trading Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/LiquidityFunctions">Liquidity Management Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/MiscFunctions">Misc Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/SimpleFunctions">Simple Functions</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/vePENDLE">vePENDLE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Contracts/UnitAndDecimals">Unit, Decimals and Scaled18</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/LimitOrder/LimitOrderContract">📋 Limit Orders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/Oracles/HowToIntegratePtAndLpOracle">🔮 Oracles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cn/pendle-v2/Developers/Backend/BackendAndHostedSDK">🛠️ Off-chain helpers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/pendle-v2/Developers/Deployments">🚀 Deployments</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/pendle-v2/Security">🔒 Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/pendle-finance/pendle-v2-resources/tree/main/whitepapers" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">📄 Whitepapers<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://app.pendle.finance/pro/education/learn" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">📚 Learn In-App<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://pendle.gitbook.io/pendle-academy" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">🎓 Pendle Academy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div><div class="row"><div class="col"><div><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">👨‍💻 Developers</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">📜 Contracts</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">PendleRouter</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Types and Utility Functions</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Types and Utility Functions</h1></header>
<p>This document covers all struct types used throughout the Pendle Router and utility functions for generating parameters on-chain.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="core-parameter-types">Core Parameter Types<a href="#core-parameter-types" class="hash-link" aria-label="Direct link to Core Parameter Types" title="Direct link to Core Parameter Types">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tokeninput">TokenInput<a href="#tokeninput" class="hash-link" aria-label="Direct link to TokenInput" title="Direct link to TokenInput">​</a></h3>
<p>Defines input token configuration for functions that accept tokens.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">TokenInput</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenIn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netTokenIn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenMintSy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> pendleSwap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    SwapData swapData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tokenIn</td><td><code>address</code></td><td>Address of the input token (can be any ERC20 token supported by Pendle)</td></tr><tr><td>netTokenIn</td><td><code>uint256</code></td><td>Amount of input tokens</td></tr><tr><td>tokenMintSy</td><td><code>address</code></td><td>Token used to mint SY (must be supported by target SY contract)</td></tr><tr><td>pendleSwap</td><td><code>address</code></td><td>Swap aggregator address (use <code>address(0)</code> for direct SY token input)</td></tr><tr><td>swapData</td><td><code>SwapData</code></td><td>Swap configuration data for external aggregation</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-patterns">Usage Patterns<a href="#usage-patterns" class="hash-link" aria-label="Direct link to Usage Patterns" title="Direct link to Usage Patterns">​</a></h3>
<p><strong>Direct SY Token Input (Simple):</strong>
When <code>tokenIn</code> is already a token supported by the target SY contract:</p>
<ul>
<li>Set <code>tokenIn = tokenMintSy</code> (same token)</li>
<li>Set <code>pendleSwap = address(0)</code> (no external swap needed)</li>
<li>Set <code>swapData</code> to empty (no aggregation)</li>
</ul>
<p><strong>Any ERC20 Token Input (Zap In):</strong>
When <code>tokenIn</code> is any ERC20 token that needs to be swapped to a supported SY token:</p>
<ul>
<li>
<p>Set <code>tokenIn</code> to the user&#x27;s input token (e.g., USDC, DAI, WETH)</p>
</li>
<li>
<p>Set <code>tokenMintSy</code> to a token supported by the target SY</p>
</li>
<li>
<p>Set <code>pendleSwap</code> to the swap aggregator address</p>
</li>
<li>
<p>Set <code>swapData</code> with proper aggregator configuration.</p>
<p><strong>E.g</strong>: When you had USDC token and want to mint SY-sUSDe:</p>
<ul>
<li>Set <code>tokenIn = USDC</code></li>
<li>Set <code>tokenMintSy = SY-sUSDe</code></li>
<li>Set <code>pendleSwap = 0xd4F480965D2347d421F1bEC7F545682E5Ec2151D</code></li>
<li>Set <code>swapData</code> to proper data configuration obtained from <a href="/cn/Developers/Backend/BackendAndHostedSDK#supported-functions">SDK</a></li>
</ul>
</li>
</ul>
<p><strong>Benefits of Zap In:</strong></p>
<ul>
<li>Users can interact with any Pendle market using any ERC20 token they hold</li>
<li>No need to manually swap tokens before interacting with Pendle</li>
<li>Optimal routing through multiple DEXes for best price execution</li>
<li>Single transaction for swap + Pendle operation</li>
</ul>
<p><strong>SDK Integration:</strong>
The <a href="/cn/Developers/Backend/BackendAndHostedSDK#features">Pendle Hosted SDK</a> automatically handles all TokenInput configuration when you enable routing. When you set <code>enableAggregator: true</code> in SDK calls, it:</p>
<ul>
<li>Automatically selects the best swap aggregator (KyberSwap, ODOS, 1inch, etc.)</li>
<li>Generates optimal <code>swapData</code> for the chosen route</li>
<li>Handles all token conversions transparently</li>
<li>Provides the best possible price execution across multiple DEXes</li>
</ul>
<p>For direct contract interaction, you need to manually configure these fields or use utility functions like <code>createTokenInputSimple()</code> for basic operations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tokenoutput">TokenOutput<a href="#tokenoutput" class="hash-link" aria-label="Direct link to TokenOutput" title="Direct link to TokenOutput">​</a></h3>
<p>Defines output token configuration for functions that return tokens.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">TokenOutput</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> minTokenOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenRedeemSy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> pendleSwap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    SwapData swapData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tokenOut</td><td><code>address</code></td><td>Address of the desired output token (can be any ERC20 token supported by Pendle)</td></tr><tr><td>minTokenOut</td><td><code>uint256</code></td><td>Minimum amount of output tokens to receive (slippage protection)</td></tr><tr><td>tokenRedeemSy</td><td><code>address</code></td><td>Token to redeem SY to (must be supported by target SY contract)</td></tr><tr><td>pendleSwap</td><td><code>address</code></td><td>Swap aggregator address (use <code>address(0)</code> for direct SY token output)</td></tr><tr><td>swapData</td><td><code>SwapData</code></td><td>Swap configuration data for external aggregation</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-patterns-1">Usage Patterns<a href="#usage-patterns-1" class="hash-link" aria-label="Direct link to Usage Patterns" title="Direct link to Usage Patterns">​</a></h3>
<p><strong>Direct SY Token Output (Simple):</strong>
When <code>tokenOut</code> is already a token supported by the target SY contract:</p>
<ul>
<li>Set <code>tokenOut = tokenRedeemSy</code> (same token)</li>
<li>Set <code>pendleSwap = address(0)</code> (no external swap needed)</li>
<li>Set <code>swapData</code> to empty (no aggregation)</li>
</ul>
<p><strong>Any ERC20 Token Output (Zap Out):</strong>
When <code>tokenOut</code> is any ERC20 token different from supported SY tokens:</p>
<ul>
<li>Set <code>tokenOut</code> to the user&#x27;s desired token (e.g., USDC, DAI, WETH)</li>
<li>Set <code>tokenRedeemSy</code> to a token supported by the target SY</li>
<li>Set <code>pendleSwap</code> to the swap aggregator address</li>
<li>Set <code>swapData</code> with proper aggregator configuration (KyberSwap, 1inch, etc.)</li>
</ul>
<p><strong>Benefits of Zap Out:</strong></p>
<ul>
<li>Users can receive any ERC20 token as output from Pendle operations</li>
<li>No need to manually swap tokens after exiting Pendle positions</li>
<li>Optimal routing through multiple DEXes for best price execution</li>
<li>Single transaction for Pendle operation + swap</li>
<li>Built-in slippage protection with <code>minTokenOut</code></li>
</ul>
<p><strong>SDK Integration:</strong>
The <a href="/cn/Developers/Backend/BackendAndHostedSDK#features">Pendle Hosted SDK</a> automatically handles all TokenOutput configuration when you enable routing. When you set <code>enableAggregator: true</code> in SDK calls, it:</p>
<ul>
<li>Automatically selects the best swap aggregator for output token conversion</li>
<li>Generates optimal <code>swapData</code> for the chosen route</li>
<li>Calculates appropriate slippage protection</li>
<li>Handles all token conversions transparently</li>
</ul>
<p>For direct contract interaction, you need to manually configure these fields or use utility functions like <code>createTokenOutputSimple()</code> for basic operations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="approxparams">ApproxParams<a href="#approxparams" class="hash-link" aria-label="Direct link to ApproxParams" title="Direct link to ApproxParams">​</a></h3>
<p>Parameters for approximation algorithms used when swapping exact tokens to PT or YT. <strong>ApproxParams is required when the exact output amount needs to be determined through iterative approximation</strong> because the Pendle AMM formula cannot be directly inverted.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ApproxParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> guessMin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> guessMax</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> guessOffchain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> maxIteration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> eps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>guessMin</td><td><code>uint256</code></td><td>Minimum bound for binary search</td></tr><tr><td>guessMax</td><td><code>uint256</code></td><td>Maximum bound for binary search (use <code>type(uint256).max</code> for auto)</td></tr><tr><td>guessOffchain</td><td><code>uint256</code></td><td>Initial guess from off-chain calculation (use <code>0</code> for on-chain)</td></tr><tr><td>maxIteration</td><td><code>uint256</code></td><td>Maximum iterations for binary search (recommended: <code>256</code>)</td></tr><tr><td>eps</td><td><code>uint256</code></td><td>Precision tolerance (recommended: <code>1e14</code>)</td></tr></tbody></table>
<p><strong>When ApproxParams is Needed:</strong></p>
<p>ApproxParams is required for functions that swap an exact amount of tokens to PT or YT, such as:</p>
<ul>
<li><a href="/cn/Developers/Contracts/PendleRouter/ApiReference/PtFunctions#swapexacttokenforpt"><code>swapExactTokenForPt</code></a> - Convert exact token amount to PT</li>
<li><a href="/cn/Developers/Contracts/PendleRouter/ApiReference/PtFunctions#swapexactsyforpt"><code>swapExactSyForPt</code></a> - Convert exact SY amount to PT</li>
<li><a href="/cn/Developers/Contracts/PendleRouter/ApiReference/YtFunctions#swapexacttokenforyt"><code>swapExactTokenForYt</code></a> - Convert exact token amount to YT</li>
<li><a href="/cn/Developers/Contracts/PendleRouter/ApiReference/YtFunctions#swapexactsyforyt"><code>swapExactSyForYt</code></a> - Convert exact SY amount to YT</li>
</ul>
<p><strong>Why Approximation is Required:</strong>
The Pendle AMM natively supports functions like <code>swapExactPtForSy</code> and <code>swapSyForExactPt</code>, but does NOT have <code>swapExactSyForPt</code>. When you want to swap an exact amount of tokens/SY for PT/YT, the router must use binary search to determine how much PT/YT can be obtained, since the AMM can only calculate the reverse (exact PT amounts).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitorderdata">LimitOrderData<a href="#limitorderdata" class="hash-link" aria-label="Direct link to LimitOrderData" title="Direct link to LimitOrderData">​</a></h3>
<p>Configuration for limit order functionality that <strong>provides better prices and reduces slippage</strong> by filling user orders at predetermined rates before routing to the AMM.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">LimitOrderData</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> limitRouter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> epsSkipMarket</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    FillOrderParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> normalFills</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    FillOrderParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> flashFills</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes</span><span class="token plain"> optData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>limitRouter</td><td><code>address</code></td><td>Address of limit order router</td></tr><tr><td>epsSkipMarket</td><td><code>uint256</code></td><td>Threshold to skip market operations</td></tr><tr><td>normalFills</td><td><code>FillOrderParams[]</code></td><td>Normal limit order fills</td></tr><tr><td>flashFills</td><td><code>FillOrderParams[]</code></td><td>Flash loan limit order fills</td></tr><tr><td>optData</td><td><code>bytes</code></td><td>Additional optimization data</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redeemytincometotokenstruct">RedeemYtIncomeToTokenStruct<a href="#redeemytincometotokenstruct" class="hash-link" aria-label="Direct link to RedeemYtIncomeToTokenStruct" title="Direct link to RedeemYtIncomeToTokenStruct">​</a></h3>
<p>Configuration for YT income redemption with token conversion.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RedeemYtIncomeToTokenStruct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IPYieldToken yt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> doRedeemInterest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> doRedeemRewards</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenRedeemSy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> minTokenRedeemOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>yt</td><td><code>IPYieldToken</code></td><td>YT token contract interface</td></tr><tr><td>doRedeemInterest</td><td><code>bool</code></td><td>Whether to redeem accrued interest</td></tr><tr><td>doRedeemRewards</td><td><code>bool</code></td><td>Whether to redeem reward tokens</td></tr><tr><td>tokenRedeemSy</td><td><code>address</code></td><td>Token to convert SY interest to</td></tr><tr><td>minTokenRedeemOut</td><td><code>uint256</code></td><td>Minimum tokens to receive from conversion</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swapdata">SwapData<a href="#swapdata" class="hash-link" aria-label="Direct link to SwapData" title="Direct link to SwapData">​</a></h3>
<p>Configuration for external swap aggregation functionality.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SwapData</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    SwapType swapType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> extRouter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bytes</span><span class="token plain"> extCalldata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> needScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>swapType</td><td><code>SwapType</code></td><td>Type of swap aggregator to use</td></tr><tr><td>extRouter</td><td><code>address</code></td><td>Address of the external swap router</td></tr><tr><td>extCalldata</td><td><code>bytes</code></td><td>Encoded calldata for the external swap</td></tr><tr><td>needScale</td><td><code>bool</code></td><td>Whether the swap amount needs scaling</td></tr></tbody></table>
<p><strong>Use Case</strong>
Enables integration with external swap aggregators like KyberSwap, 1inch, Paraswap, etc. This allows Pendle to support zapping in/out with any ERC20 token by routing through external DEXes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swaptype">SwapType<a href="#swaptype" class="hash-link" aria-label="Direct link to SwapType" title="Direct link to SwapType">​</a></h3>
<p>Enumeration defining supported swap aggregator types. See the <a href="https://github.com/pendle-finance/pendle-core-v2-public/blob/main/contracts/router/swap-aggregator/IPSwapAggregator.sol#L18-L31" target="_blank" rel="noopener noreferrer">complete SwapType definition</a> in the smart contract.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">enum</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SwapType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    NONE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    KYBERSWAP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ODOS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ETH_WETH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    OKX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ONE_INCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    PARASWAP</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Values</strong></p>
<table><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td><code>NONE</code></td><td>No external swap aggregation</td></tr><tr><td><code>KYBERSWAP</code></td><td>KyberSwap aggregation</td></tr><tr><td><code>ODOS</code></td><td>ODOS aggregation</td></tr><tr><td><code>ETH_WETH</code></td><td>ETH/WETH conversion</td></tr><tr><td><code>OKX</code></td><td>OKX DEX aggregation</td></tr><tr><td><code>ONE_INCH</code></td><td>1inch aggregation</td></tr><tr><td><code>PARASWAP</code></td><td>Paraswap aggregation</td></tr></tbody></table>
<p><strong>Use Case</strong>
Specifies which external aggregator to use for token swaps, enabling Pendle to leverage the best available liquidity across different DEXes. The <a href="/cn/Developers/Backend/BackendAndHostedSDK#features">Pendle Hosted SDK</a> automatically selects the optimal SwapType based on available liquidity and routing efficiency.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exitpreexpreturnparams">ExitPreExpReturnParams<a href="#exitpreexpreturnparams" class="hash-link" aria-label="Direct link to ExitPreExpReturnParams" title="Direct link to ExitPreExpReturnParams">​</a></h3>
<p>Detailed breakdown of returns from pre-expiry position exit operations.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ExitPreExpReturnParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netPtFromRemove</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netSyFromRemove</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netPyRedeem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netSyFromRedeem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netPtSwap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netYtSwap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netSyFromSwap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netSyFee</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> totalSyOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>netPtFromRemove</td><td><code>uint256</code></td><td>PT tokens obtained from LP removal</td></tr><tr><td>netSyFromRemove</td><td><code>uint256</code></td><td>SY tokens obtained from LP removal</td></tr><tr><td>netPyRedeem</td><td><code>uint256</code></td><td>PT+YT pairs redeemed to SY</td></tr><tr><td>netSyFromRedeem</td><td><code>uint256</code></td><td>SY tokens from PT+YT redemption</td></tr><tr><td>netPtSwap</td><td><code>uint256</code></td><td>PT tokens swapped to SY</td></tr><tr><td>netYtSwap</td><td><code>uint256</code></td><td>YT tokens swapped to SY</td></tr><tr><td>netSyFromSwap</td><td><code>uint256</code></td><td>SY tokens from PT/YT swaps</td></tr><tr><td>netSyFee</td><td><code>uint256</code></td><td>Trading fees paid in SY</td></tr><tr><td>totalSyOut</td><td><code>uint256</code></td><td>Total SY tokens received</td></tr></tbody></table>
<p><strong>Use Case</strong>
Provides detailed breakdown of complex exit operations before market expiry, helping users understand exactly how their positions were unwound and what fees were paid.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exitpostexpreturnparams">ExitPostExpReturnParams<a href="#exitpostexpreturnparams" class="hash-link" aria-label="Direct link to ExitPostExpReturnParams" title="Direct link to ExitPostExpReturnParams">​</a></h3>
<p>Breakdown of returns from post-expiry position exit operations.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ExitPostExpReturnParams</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netPtFromRemove</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netSyFromRemove</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netPtRedeem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netSyFromRedeem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> totalSyOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Fields</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>netPtFromRemove</td><td><code>uint256</code></td><td>PT tokens obtained from LP removal</td></tr><tr><td>netSyFromRemove</td><td><code>uint256</code></td><td>SY tokens obtained from LP removal</td></tr><tr><td>netPtRedeem</td><td><code>uint256</code></td><td>PT tokens redeemed at maturity</td></tr><tr><td>netSyFromRedeem</td><td><code>uint256</code></td><td>SY tokens from PT redemption</td></tr><tr><td>totalSyOut</td><td><code>uint256</code></td><td>Total SY tokens received</td></tr></tbody></table>
<p><strong>Use Case</strong>
Provides breakdown of exit operations after market expiry when PT tokens can be redeemed 1:1 for underlying assets. Simpler than pre-expiry exits since no swapping is required.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utility-functions">Utility Functions<a href="#utility-functions" class="hash-link" aria-label="Direct link to Utility Functions" title="Direct link to Utility Functions">​</a></h2>
<p>These functions generate the parameters described above on-chain, offering an alternative for users who do not utilize the Pendle SDK.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createtokeninputsimple">createTokenInputSimple<a href="#createtokeninputsimple" class="hash-link" aria-label="Direct link to createTokenInputSimple" title="Direct link to createTokenInputSimple">​</a></h3>
<p>Creates a simple TokenInput struct without external swapping.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createTokenInputSimple</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenIn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> netTokenIn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">pure</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TokenInput </span><span class="token keyword" style="font-style:italic">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p><strong>Input Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tokenIn</td><td><code>address</code></td><td>Input token address (must be supported by target SY)</td></tr><tr><td>netTokenIn</td><td><code>uint256</code></td><td>Amount of input tokens</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td><code>TokenInput</code></td><td>Configured TokenInput struct</td></tr></tbody></table>
<p><strong>Use Case</strong>
Most common way to create TokenInput for standard operations. The tokenIn must be one of the tokens accepted by the target SY contract (check via <code>IStandardizedYield.getTokensIn()</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createtokenoutputsimple">createTokenOutputSimple<a href="#createtokenoutputsimple" class="hash-link" aria-label="Direct link to createTokenOutputSimple" title="Direct link to createTokenOutputSimple">​</a></h3>
<p>Creates a simple TokenOutput struct without external swapping.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createTokenOutputSimple</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">address</span><span class="token plain"> tokenOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token plain"> minTokenOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">pure</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TokenOutput </span><span class="token keyword" style="font-style:italic">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p><strong>Input Parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tokenOut</td><td><code>address</code></td><td>Output token address (must be supported by target SY)</td></tr><tr><td>minTokenOut</td><td><code>uint256</code></td><td>Minimum amount of output tokens</td></tr></tbody></table>
<p><strong>Return Values</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td><code>TokenOutput</code></td><td>Configured TokenOutput struct</td></tr></tbody></table>
<p><strong>Use Case</strong>
Most common way to create TokenOutput for standard operations. The tokenOut must be one of the tokens that the target SY can redeem to (check via <code>IStandardizedYield.getTokensOut()</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createdefaultapproxparams">createDefaultApproxParams<a href="#createdefaultapproxparams" class="hash-link" aria-label="Direct link to createDefaultApproxParams" title="Direct link to createDefaultApproxParams">​</a></h3>
<p>Creates default approximation parameters suitable for most operations.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createDefaultApproxParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">pure</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ApproxParams </span><span class="token keyword" style="font-style:italic">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p><strong>Return Values</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td><code>ApproxParams</code></td><td>Configured ApproxParams with optimal defaults</td></tr></tbody></table>
<p><strong>Configuration</strong></p>
<ul>
<li>guessMin: <code>0</code></li>
<li>guessMax: <code>type(uint256).max</code> (auto-detection)</li>
<li>guessOffchain: <code>0</code> (pure on-chain calculation)</li>
<li>maxIteration: <code>256</code> (sufficient for most cases)</li>
<li>eps: <code>1e14</code> (0.01% precision)</li>
</ul>
<p><strong>Use Case</strong>
Recommended for all operations requiring approximation. These parameters provide good balance between accuracy and gas costs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="createemptylimitorderdata">createEmptyLimitOrderData<a href="#createemptylimitorderdata" class="hash-link" aria-label="Direct link to createEmptyLimitOrderData" title="Direct link to createEmptyLimitOrderData">​</a></h3>
<p>Creates an empty LimitOrderData struct for operations without limit orders.</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createEmptyLimitOrderData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">pure</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">LimitOrderData </span><span class="token keyword" style="font-style:italic">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p><strong>Return Values</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td><code>LimitOrderData</code></td><td>Empty LimitOrderData struct</td></tr></tbody></table>
<p><strong>Use Case</strong>
Use when you don&#x27;t need limit order functionality. Required by many functions but can be empty for standard market operations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-parameter-creation">Basic Parameter Creation<a href="#basic-parameter-creation" class="hash-link" aria-label="Direct link to Basic Parameter Creation" title="Direct link to Basic Parameter Creation">​</a></h3>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Create input parameters for 1000 USDC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TokenInput </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> input </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createTokenInputSimple</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">USDC_ADDRESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000e6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Create output parameters expecting at least 950 USDC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TokenOutput </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> output </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createTokenOutputSimple</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">USDC_ADDRESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">950e6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Create default approximation parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ApproxParams </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> approx </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createDefaultApproxParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Create empty limit order data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LimitOrderData </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> limit </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createEmptyLimitOrderData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="complete-function-call-example">Complete Function Call Example<a href="#complete-function-call-example" class="hash-link" aria-label="Direct link to Complete Function Call Example" title="Direct link to Complete Function Call Example">​</a></h3>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Add liquidity with properly configured parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">addLiquiditySingleToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">                                           </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// receiver</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    MARKET_ADDRESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">                                       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// market</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    minLpOut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">                                            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// minLpOut</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">createDefaultApproxParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">                         </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// guessPtReceivedFromSy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">createTokenInputSimple</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">USDC_ADDRESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000e6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// input</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">createEmptyLimitOrderData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">                          </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// limit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-approxparams-for-advanced-use">Custom ApproxParams for Advanced Use<a href="#custom-approxparams-for-advanced-use" class="hash-link" aria-label="Direct link to Custom ApproxParams for Advanced Use" title="Direct link to Custom ApproxParams for Advanced Use">​</a></h3>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Create custom approximation parameters for high precision</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ApproxParams </span><span class="token keyword" style="font-style:italic">memory</span><span class="token plain"> customApprox </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ApproxParams</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    guessMin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    guessMax</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    guessOffchain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> estimatedOutput</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Use off-chain calculation if available</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    maxIteration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">512</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">               </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Higher precision</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    eps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1e15</span><span class="token plain">                        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Tighter tolerance (0.001%)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">​</a></h2>
<p><strong>For Standard Operations:</strong></p>
<ul>
<li>Always use <code>createDefaultApproxParams()</code> unless you have specific precision requirements</li>
<li>Use <code>createEmptyLimitOrderData()</code> for simple market operations</li>
<li>Ensure token addresses are supported by target SY contracts</li>
</ul>
<p><strong>For Performance:</strong></p>
<ul>
<li>Off-chain approximation (<code>guessOffchain</code>) can reduce gas costs significantly</li>
<li>Higher <code>maxIteration</code> values increase precision but cost more gas</li>
<li>Tighter <code>eps</code> values improve precision but may increase iterations</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ContractIntegrationGuide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Pendle Router Contract Integration Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cn/pendle-v2/Developers/Contracts/PendleRouter/ApiReference/PtFunctions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Principal Token (PT) Trading Functions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#core-parameter-types" class="table-of-contents__link toc-highlight">Core Parameter Types</a><ul><li><a href="#tokeninput" class="table-of-contents__link toc-highlight">TokenInput</a></li><li><a href="#usage-patterns" class="table-of-contents__link toc-highlight">Usage Patterns</a></li><li><a href="#tokenoutput" class="table-of-contents__link toc-highlight">TokenOutput</a></li><li><a href="#usage-patterns-1" class="table-of-contents__link toc-highlight">Usage Patterns</a></li><li><a href="#approxparams" class="table-of-contents__link toc-highlight">ApproxParams</a></li><li><a href="#limitorderdata" class="table-of-contents__link toc-highlight">LimitOrderData</a></li><li><a href="#redeemytincometotokenstruct" class="table-of-contents__link toc-highlight">RedeemYtIncomeToTokenStruct</a></li><li><a href="#swapdata" class="table-of-contents__link toc-highlight">SwapData</a></li><li><a href="#swaptype" class="table-of-contents__link toc-highlight">SwapType</a></li><li><a href="#exitpreexpreturnparams" class="table-of-contents__link toc-highlight">ExitPreExpReturnParams</a></li><li><a href="#exitpostexpreturnparams" class="table-of-contents__link toc-highlight">ExitPostExpReturnParams</a></li></ul></li><li><a href="#utility-functions" class="table-of-contents__link toc-highlight">Utility Functions</a><ul><li><a href="#createtokeninputsimple" class="table-of-contents__link toc-highlight">createTokenInputSimple</a></li><li><a href="#createtokenoutputsimple" class="table-of-contents__link toc-highlight">createTokenOutputSimple</a></li><li><a href="#createdefaultapproxparams" class="table-of-contents__link toc-highlight">createDefaultApproxParams</a></li><li><a href="#createemptylimitorderdata" class="table-of-contents__link toc-highlight">createEmptyLimitOrderData</a></li></ul></li><li><a href="#integration-examples" class="table-of-contents__link toc-highlight">Integration Examples</a><ul><li><a href="#basic-parameter-creation" class="table-of-contents__link toc-highlight">Basic Parameter Creation</a></li><li><a href="#complete-function-call-example" class="table-of-contents__link toc-highlight">Complete Function Call Example</a></li><li><a href="#custom-approxparams-for-advanced-use" class="table-of-contents__link toc-highlight">Custom ApproxParams for Advanced Use</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li></ul></div></div></div></div></div></main></div></div></div><div class="background_hm_f"><div class="root_DvgA"><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Pages</div><a href="https://www.pendle.finance/" target="_blank">Website</a><a href="https://app.pendle.finance/market" target="_blank">App</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">Socials</div><a href="https://discord.com/invite/EAujvncY2R" target="_blank">Discord</a><a href="https://twitter.com/pendle_fi/" target="_blank">Twitter</a><a href="https://t.me/pendlefinance/" target="_blank">Telegram</a></div><div class="linkGroup_Ckfr"><div class="linkGroupTitle_rRS_">About Us</div><a href="https://medium.com/pendle/" target="_blank">Medium</a><a href="https://angel.co/company/pendle_finance/" target="_blank">Careers</a><a href="https://pendle.finance/brandguide" target="_blank">Media Kit</a><a href="https://github.com/pendle-finance/pendle-core-v2-public/tree/master/audits" target="_blank">Audits</a></div></div></div></div>
</body>
</html>